<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="referrer" content="no-referrer">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon.za - Your Premium Shopping Destination</title>
    
    <!-- Load i18n if available (when opened in HeartOS) -->
    <script>
        // Try to load parent window's I18N if opened in iframe/browser app
        if (window.parent && window.parent.I18N) {
            window.I18N = window.parent.I18N;
            console.log('Loaded parent I18N, current language:', window.I18N.currentLang);
        }
        // Otherwise create minimal i18n stub for standalone use
        if (typeof I18N === 'undefined') {
            window.I18N = {
                currentLang: localStorage.getItem('heartosLang') || 'en',
                translations: { en: {}, cs: {} },
                t: function(key) {
                    const lang = this.translations[this.currentLang];
                    return (lang && lang[key]) || this.translations.en[key] || key;
                }
            };
        }
        
        // Listen for language changes from parent window
        window.addEventListener('message', function(event) {
            if (event.data && event.data.type === 'languageChanged') {
                console.log('Amazon.za: Language changed to:', event.data.lang);
                if (window.I18N) {
                    window.I18N.currentLang = event.data.lang;
                    applyTranslations();
                }
            }
        });
    </script>
    
    <style>
        * { 
            box-sizing: border-box; 
            margin: 0; 
            padding: 0; 
        }
        
        body {
            font-family: 'Amazon Ember', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #eaeded;
            overflow-x: hidden;
        }

        /* HEADER */
        .header {
            background: linear-gradient(180deg, #131921 0%, #1a2332 100%);
            color: #fff;
            padding: 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .header-top {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 12px 24px;
        }

        .logo {
            font-size: 2rem;
            font-weight: bold;
            padding: 8px 16px;
            cursor: pointer;
            transition: transform 0.2s;
            background: linear-gradient(135deg, #ff9900, #ffb84d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo span {
            font-size: 0.7rem;
            vertical-align: super;
        }

        .deliver-to {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 10px 12px;
            cursor: pointer;
            border: 1.5px solid transparent;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .deliver-to:hover {
            border-color: #fff;
            background: rgba(255,255,255,0.05);
        }

        .deliver-icon {
            font-size: 1.2rem;
        }

        .deliver-text {
            font-size: 0.75rem;
            color: #ccc;
        }

        .location {
            font-weight: 700;
            font-size: 0.95rem;
        }

        .search-bar {
            flex: 1;
            display: flex;
            max-width: 900px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            border-radius: 4px;
            overflow: hidden;
        }

        .search-select {
            padding: 12px 16px;
            background: #f3f3f3;
            border: none;
            color: #333;
            font-size: 0.9rem;
            cursor: pointer;
            transition: background 0.2s;
        }

        .search-select:hover {
            background: #e8e8e8;
        }

        .search-input {
            flex: 1;
            padding: 12px 16px;
            border: none;
            outline: none;
            font-size: 0.95rem;
        }

        .search-btn {
            padding: 0 24px;
            background: #febd69;
            border: none;
            cursor: pointer;
            font-size: 1.3rem;
            transition: all 0.2s;
        }

        .search-btn:hover {
            background: #f3a847;
            transform: scale(1.05);
        }

        .header-nav {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-left: auto;
        }

        .nav-item {
            padding: 10px 12px;
            cursor: pointer;
            border: 1.5px solid transparent;
            border-radius: 4px;
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .nav-item:hover {
            border-color: #fff;
            background: rgba(255,255,255,0.05);
        }

        .nav-label {
            font-size: 0.75rem;
            color: #ccc;
        }

        .nav-value {
            font-weight: 700;
            font-size: 0.95rem;
        }

        .cart {
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
            padding: 10px 16px;
        }

        .cart-icon {
            font-size: 1.8rem;
        }

        .cart-count {
            position: absolute;
            top: 2px;
            left: 28px;
            background: linear-gradient(135deg, #ff6b35, #ff9900);
            color: #fff;
            border-radius: 50%;
            min-width: 22px;
            height: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 700;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .balance-display {
            background: linear-gradient(135deg, #146eb4, #1a8cd8);
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 700;
            font-size: 1.1rem;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
            border: 2px solid rgba(255,255,255,0.2);
            transition: all 0.3s;
        }

        .balance-display:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        /* SUB HEADER */
        .sub-header {
            background: #232f3e;
            color: #fff;
            padding: 10px 24px;
            display: flex;
            gap: 24px;
            align-items: center;
            overflow-x: auto;
        }

        .sub-nav-item {
            padding: 6px 12px;
            cursor: pointer;
            white-space: nowrap;
            font-size: 0.9rem;
            transition: all 0.2s;
            border-radius: 4px;
        }

        .sub-nav-item:hover {
            background: rgba(255,255,255,0.1);
            transform: translateY(-1px);
        }

        /* MAIN CONTENT */
        .main {
            max-width: 1600px;
            margin: 0 auto;
            padding: 24px;
        }

        /* HERO BANNER */
        .hero {
            background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            color: #fff;
            padding: 60px 40px;
            border-radius: 12px;
            margin-bottom: 32px;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 24px;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.2);
        }

        .hero-btn {
            background: linear-gradient(135deg, #ff9900, #ffb84d);
            color: #131921;
            border: none;
            padding: 16px 40px;
            font-size: 1.1rem;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(255,153,0,0.4);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .hero-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 6px 25px rgba(255,153,0,0.6);
        }

        .hero-btn:active {
            transform: translateY(-1px) scale(1.02);
        }

        /* FILTERS */
        .filters {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 10px 20px;
            background: #fff;
            border: 2px solid #ddd;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.2s;
        }

        .filter-btn:hover {
            border-color: #ff9900;
            color: #ff9900;
            transform: translateY(-2px);
        }

        .filter-btn.active {
            background: #ff9900;
            color: #fff;
            border-color: #ff9900;
        }

        /* PRODUCT GRID */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 32px 0 20px;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #131921;
        }

        .view-all {
            color: #007185;
            font-size: 0.95rem;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .view-all:hover {
            color: #ff9900;
            text-decoration: underline;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 48px;
        }

        .product-card {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            animation: fadeInUp 0.5s forwards;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            position: relative;
            overflow: hidden;
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff9900, #ffb84d);
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .product-card:hover::before {
            transform: scaleX(1);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 32px rgba(0,0,0,0.15);
        }

        .product-badge {
            position: absolute;
            top: 16px;
            right: 16px;
            background: linear-gradient(135deg, #ff6b35, #ff9900);
            color: #fff;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 8px rgba(255,107,53,0.4);
            z-index: 2;
        }

        /* PRODUCT IMAGE */
        .product-image {
            width: 100%;
            aspect-ratio: 1;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 16px;
            background: #f9f9f9;
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .product-card:hover .product-image {
            transform: scale(1.08) rotate(2deg);
        }

        .product-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 10px;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            color: #0F1111;
            min-height: 48px;
            line-height: 1.4;
        }

        .product-rating {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
            font-size: 0.875rem;
        }

        .stars {
            color: #ff9900;
            letter-spacing: 2px;
        }

        .rating-count {
            color: #007185;
            font-weight: 600;
        }

        .product-price {
            font-size: 1.6rem;
            font-weight: 700;
            color: #B12704;
            margin-bottom: 6px;
        }

        .product-price-small {
            font-size: 0.85rem;
            color: #565959;
            text-decoration: line-through;
            margin-left: 8px;
        }

        .prime-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: #00a8e1;
            color: #fff;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .add-to-cart {
            width: 100%;
            background: linear-gradient(180deg, #f7dfa5, #ffd814);
            border: 1px solid #fcd200;
            border-radius: 8px;
            padding: 10px 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-size: 0.95rem;
        }

        .add-to-cart:hover {
            background: linear-gradient(180deg, #f7ca00, #f0c14b);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .add-to-cart:active {
            transform: translateY(0);
        }

        /* TOAST NOTIFICATION */
        .toast {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: linear-gradient(135deg, #28a745, #34ce57);
            color: #fff;
            padding: 16px 24px;
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.3);
            transform: translateX(400px);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 600;
        }

        .toast.show {
            transform: translateX(0);
        }

        /* CART MODAL */
        .cart-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.75);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(4px);
        }

        .cart-modal.active {
            display: flex;
            animation: fadeIn 0.2s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .cart-content {
            background: #fff;
            padding: 0;
            border-radius: 16px;
            max-width: 700px;
            width: 92%;
            max-height: 85vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(50px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        .cart-header {
            padding: 24px 32px;
            border-bottom: 2px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(180deg, #fff, #f9f9f9);
        }

        .cart-header h2 {
            font-size: 1.8rem;
            color: #131921;
        }

        .cart-items-container {
            flex: 1;
            overflow-y: auto;
            padding: 24px 32px;
        }

        .cart-item {
            display: flex;
            gap: 20px;
            padding: 20px 0;
            border-bottom: 1px solid #e7e7e7;
            transition: background 0.2s;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 8px;
        }

        .cart-item:hover {
            background: #f9f9f9;
        }

        .cart-item-image {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-title {
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 1rem;
            color: #0F1111;
        }

        .cart-item-price {
            color: #B12704;
            font-weight: 700;
            font-size: 1.2rem;
        }

        .cart-item-actions {
            display: flex;
            flex-direction: column;
            gap: 8px;
            justify-content: center;
        }

        .cart-item-remove {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: #fff;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 600;
            transition: all 0.2s;
            box-shadow: 0 2px 6px rgba(220,53,69,0.3);
        }

        .cart-item-remove:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(220,53,69,0.4);
        }

        .cart-footer {
            padding: 24px 32px;
            background: #f9f9f9;
            border-top: 2px solid #e7e7e7;
        }

        .cart-total {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 20px;
            text-align: right;
            color: #B12704;
        }

        .checkout-btn {
            width: 100%;
            background: linear-gradient(135deg, #ff9900, #ffb84d);
            color: #fff;
            border: none;
            padding: 18px;
            font-size: 1.2rem;
            font-weight: 700;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(255,153,0,0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .checkout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255,153,0,0.5);
        }

        .checkout-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .close-cart {
            font-size: 2rem;
            cursor: pointer;
            color: #666;
            transition: all 0.2s;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .close-cart:hover {
            background: #f0f0f0;
            color: #000;
            transform: rotate(90deg);
        }

        .empty-cart {
            text-align: center;
            padding: 60px 32px;
            color: #666;
        }

        .empty-cart-icon {
            font-size: 5rem;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        /* PAYMENT MODAL */
        .payment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.75);
            z-index: 1001;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(4px);
        }

        .payment-modal.active {
            display: flex;
            animation: fadeIn 0.2s;
        }

        .payment-content {
            background: #fff;
            padding: 40px;
            border-radius: 16px;
            max-width: 550px;
            width: 92%;
            animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .payment-header {
            text-align: center;
            margin-bottom: 24px;
        }

        .payment-header h2 {
            font-size: 2rem;
            color: #131921;
            margin-bottom: 8px;
        }

        .code-hint {
            text-align: center;
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .code-examples {
            background: #f9f9f9;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #ff9900;
        }

        .code-examples p {
            font-size: 0.85rem;
            color: #555;
            margin-bottom: 4px;
        }

        .code-input {
            width: 100%;
            padding: 20px;
            font-size: 1.8rem;
            text-align: center;
            border: 3px solid #ddd;
            border-radius: 12px;
            margin: 20px 0;
            letter-spacing: 4px;
            text-transform: uppercase;
            font-weight: 700;
            transition: all 0.2s;
        }

        .code-input:focus {
            outline: none;
            border-color: #ff9900;
            box-shadow: 0 0 0 4px rgba(255,153,0,0.1);
        }

        .pay-btn {
            width: 100%;
            background: linear-gradient(135deg, #28a745, #34ce57);
            color: #fff;
            border: none;
            padding: 18px;
            font-size: 1.2rem;
            font-weight: 700;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(40,167,69,0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .pay-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(40,167,69,0.5);
        }

        .payment-error {
            color: #dc3545;
            text-align: center;
            margin-top: 16px;
            font-weight: 600;
            padding: 12px;
            background: #f8d7da;
            border-radius: 8px;
            display: none;
        }

        .payment-error.show {
            display: block;
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .payment-success {
            text-align: center;
            padding: 40px;
        }

        .success-icon {
            font-size: 5rem;
            margin-bottom: 20px;
            animation: scaleIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes scaleIn {
            from {
                transform: scale(0);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .payment-success h2 {
            color: #28a745;
            font-size: 2.2rem;
            margin-bottom: 16px;
        }

        .payment-success p {
            font-size: 1.1rem;
            margin: 12px 0;
            color: #555;
        }

        .footer {
            background: linear-gradient(180deg, #232f3e, #131921);
            color: #ddd;
            padding: 48px 24px;
            margin-top: 60px;
            text-align: center;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer p {
            margin: 8px 0;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .footer-link {
            color: #ddd;
            text-decoration: none;
            transition: color 0.2s;
        }

        .footer-link:hover {
            color: #ff9900;
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .cart.bounce .cart-icon {
            animation: bounce 0.5s;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .header-top {
                flex-wrap: wrap;
                gap: 12px;
            }

            .search-bar {
                order: 3;
                width: 100%;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .product-grid {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
                gap: 12px;
            }

            .section-title {
                font-size: 1.4rem;
            }
        }
    </style>
</head>
<body>
    <!-- TOAST NOTIFICATION -->
    <div class="toast" id="toast">
        <span id="toast-text"></span>
    </div>

    <!-- HEADER -->
    <div class="header">
        <div class="header-top">
            <div class="logo">amazon<span>.za</span></div>
            
            <div class="deliver-to">
                <div class="deliver-icon">üìç</div>
                <div>
                    <div class="deliver-text" data-i18n-key="amazon_deliver_to">Deliver to</div>
                    <div class="location">Cape Town</div>
                </div>
            </div>

            <div class="search-bar">
                <select class="search-select">
                    <option data-i18n-key="amazon_all_categories">All Categories</option>
                    <option>Absolutely Useless</option>
                    <option>Questionable Choices</option>
                    <option>Why Though?</option>
                    <option>Impulse Territory</option>
                </select>
                <input type="text" class="search-input" data-i18n-key-placeholder="amazon_search_placeholder" placeholder="Search for amazing deals...">
                <button class="search-btn">üîç</button>
            </div>

            <div class="header-nav">
                <div class="balance-display">
                    üí∞ R<span id="balance">0</span>
                </div>

                <div class="nav-item cart" onclick="toggleCart()">
                    <div class="cart-count" id="cart-count">0</div>
                    <div class="cart-icon">üõí</div>
                    <div class="nav-value" data-i18n-key="amazon_cart">Cart</div>
                </div>
            </div>
        </div>
    </div>

    <!-- SUB HEADER -->
    <div class="sub-header">
        <div class="sub-nav-item" data-i18n-key="amazon_all_categories">‚ò∞ All Categories</div>
        <div class="sub-nav-item" data-i18n-key="amazon_todays_deals">üî• Today's Deals</div>
        <div class="sub-nav-item" data-i18n-key="amazon_gift_ideas">üéÅ Gift Ideas</div>
        <div class="sub-nav-item" data-i18n-key="amazon_flash_sale">‚ö° Flash Sale</div>
        <div class="sub-nav-item" data-i18n-key="amazon_gift_cards">üí≥ Gift Cards</div>
        <div class="sub-nav-item" data-i18n-key="amazon_track_order">üì¶ Track Order</div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="main">
        <!-- HERO -->
        <div class="hero">
            <div class="hero-content">
                <h1 data-i18n-key="amazon_hero_title">Welcome to Shopping Paradise! üéä</h1>
                <p data-i18n-key="amazon_hero_subtitle">Discover amazing products you absolutely need (or maybe don't)</p>
                <button class="hero-btn" onclick="scrollToProducts()" data-i18n-key="amazon_explore_deals">Explore Deals</button>
            </div>
        </div>

        <!-- FILTERS -->
        <div class="filters">
            <button class="filter-btn active" onclick="filterProducts('all')" data-i18n-key="amazon_all_products">All Products</button>
            <button class="filter-btn" onclick="filterProducts('essential')" data-i18n-key="amazon_essential_items">Essential Items</button>
            <button class="filter-btn" onclick="filterProducts('questionable')" data-i18n-key="amazon_questionable">Questionable</button>
            <button class="filter-btn" onclick="filterProducts('impulse')" data-i18n-key="amazon_impulse_buys">Impulse Buys</button>
            <button class="filter-btn" onclick="filterProducts('prime')" data-i18n-key="amazon_prime_only">Prime Only</button>
        </div>

        <!-- PRODUCTS SECTION 1 -->
        <div class="section-header">
            <h2 class="section-title" data-i18n-key="amazon_essential_title">‚ú® Absolutely Essential Items</h2>
            <span class="view-all" data-i18n-key="amazon_view_all">View All ‚Üí</span>
        </div>
        <div class="product-grid" id="products-essential"></div>

        <!-- PRODUCTS SECTION 2 -->
        <div class="section-header">
            <h2 class="section-title" data-i18n-key="amazon_questionable_title">ü§î Questionable Choices</h2>
            <span class="view-all" data-i18n-key="amazon_view_all">View All ‚Üí</span>
        </div>
        <div class="product-grid" id="products-questionable"></div>

        <!-- PRODUCTS SECTION 3 -->
        <div class="section-header">
            <h2 class="section-title" data-i18n-key="amazon_impulse_title">üòà Impulse Buy Zone</h2>
            <span class="view-all" data-i18n-key="amazon_view_all">View All ‚Üí</span>
        </div>
        <div class="product-grid" id="products-impulse"></div>
    </div>

    <!-- CART MODAL -->
    <div class="cart-modal" id="cart-modal">
        <div class="cart-content">
            <div class="cart-header">
                <h2 data-i18n-key="amazon_shopping_cart">Shopping Cart üõí</h2>
                <span class="close-cart" onclick="toggleCart()">&times;</span>
            </div>
            <div class="cart-items-container" id="cart-items"></div>
            <div class="cart-footer">
                <div class="cart-total"><span data-i18n-key="amazon_total">Total</span>: R<span id="cart-total">0</span></div>
                <button class="checkout-btn" onclick="proceedToCheckout()" data-i18n-key="amazon_checkout">Proceed to Checkout üí≥</button>
            </div>
        </div>
    </div>

    <!-- PAYMENT MODAL -->
    <div class="payment-modal" id="payment-modal">
        <div class="payment-content">
            <div id="payment-form">
                <div class="payment-header">
                    <h2 data-i18n-key="amazon_secure_checkout">Secure Checkout üîí</h2>
                </div>
                <div class="code-hint" data-i18n-key="amazon_code_hint">Enter your special payment code to complete the purchase</div>
                <div class="code-examples">
                    <p><strong data-i18n-key="amazon_try_codes">üí° Try these codes:</strong></p>
                    <p>RICH ‚Ä¢ YOLO ‚Ä¢ 42 ‚Ä¢ MONEY ‚Ä¢ 1997 ‚Ä¢ 2025</p>
                </div>
                <input type="text" class="code-input" id="payment-code" data-i18n-key-placeholder="amazon_enter_code" placeholder="Enter Code" maxlength="10">
                <button class="pay-btn" onclick="processPayment()" data-i18n-key="amazon_complete_payment">Complete Payment üí∞</button>
                <div class="payment-error" id="payment-error"></div>
            </div>
            <div id="payment-success" class="payment-success" style="display: none;">
                <div class="success-icon">üéâ</div>
                <h2 data-i18n-key="amazon_payment_success">Payment Successful!</h2>
                <p data-i18n-key="amazon_order_confirmed">Your order has been confirmed</p>
                <p style="color: #666; font-size: 0.95rem; margin-top: 16px;"><span data-i18n-key="amazon_order_number">Order #AMZ-</span><span id="order-number"></span></p>
                <p style="color: #666; font-size: 0.9rem;" data-i18n-key="amazon_delivery">Estimated delivery: 3-5 business days üì¶</p>
                <button class="checkout-btn" onclick="location.reload()" style="margin-top: 32px;" data-i18n-key="amazon_continue_shopping">Continue Shopping</button>
            </div>
        </div>
    </div>

    <!-- PRODUCT DETAIL MODAL -->
    <div class="payment-modal" id="product-modal">
        <div class="payment-content" style="max-width: 800px; max-height: 90vh; overflow-y: auto;">
            <span class="close-cart" onclick="closeProductModal()" style="position: absolute; top: 16px; right: 16px; z-index: 10;">&times;</span>
            <div id="product-detail-content"></div>
        </div>
    </div>

    <div class="footer">
        <div class="footer-content">
            <p style="font-size: 1.2rem; font-weight: bold; margin-bottom: 16px;">amazon.za</p>
            <div class="footer-links">
                <a href="#" class="footer-link">About Us</a>
                <a href="#" class="footer-link">Help Center</a>
                <a href="#" class="footer-link">Returns</a>
                <a href="#" class="footer-link">Careers</a>
                <a href="#" class="footer-link">Privacy</a>
                <a href="#" class="footer-link">Terms</a>
            </div>
            <p style="margin-top: 24px; font-size: 0.9rem;" data-i18n-key="amazon_footer_tagline">¬© 2025 Amazon.za - Your Premier Shopping Destination</p>
            <p style="margin-top: 8px; font-size: 0.85rem; color: #999;" data-i18n-key="amazon_footer_trust">Shop with confidence ‚Ä¢ Fast delivery ‚Ä¢ Secure payments</p>
        </div>
    </div>

    <script>
        // Add Czech translations to I18N if it exists
        if (typeof I18N !== 'undefined') {
            // English translations
            Object.assign(I18N.translations.en, {
                amazon_deliver_to: 'Deliver to',
                amazon_search_placeholder: 'Search for amazing deals...',
                amazon_cart: 'Cart',
                amazon_all_categories: 'All Categories',
                amazon_todays_deals: "Today's Deals",
                amazon_gift_ideas: 'Gift Ideas',
                amazon_flash_sale: 'Flash Sale',
                amazon_gift_cards: 'Gift Cards',
                amazon_track_order: 'Track Order',
                amazon_hero_title: 'Welcome to Shopping Paradise! üéä',
                amazon_hero_subtitle: 'Discover amazing products you absolutely need (or maybe don\'t)',
                amazon_explore_deals: 'Explore Deals',
                amazon_all_products: 'All Products',
                amazon_essential_items: 'Essential Items',
                amazon_questionable: 'Questionable',
                amazon_impulse_buys: 'Impulse Buys',
                amazon_prime_only: 'Prime Only',
                amazon_essential_title: '‚ú® Absolutely Essential Items',
                amazon_questionable_title: 'ü§î Questionable Choices',
                amazon_impulse_title: 'üòà Impulse Buy Zone',
                amazon_view_all: 'View All ‚Üí',
                amazon_shopping_cart: 'Shopping Cart üõí',
                amazon_cart_empty: 'Your cart is empty!',
                amazon_cart_empty_desc: 'Start adding some amazing items',
                amazon_total: 'Total',
                amazon_checkout: 'Proceed to Checkout üí≥',
                amazon_secure_checkout: 'Secure Checkout üîí',
                amazon_code_hint: 'Enter your special payment code to complete the purchase',
                amazon_try_codes: 'üí° Try these codes:',
                amazon_enter_code: 'Enter Code',
                amazon_complete_payment: 'Complete Payment üí∞',
                amazon_payment_success: 'Payment Successful!',
                amazon_order_confirmed: 'Your order has been confirmed',
                amazon_order_number: 'Order #AMZ-',
                amazon_delivery: 'Estimated delivery: 3-5 business days üì¶',
                amazon_continue_shopping: 'Continue Shopping',
                amazon_add_to_cart: 'Add to Cart',
                amazon_remove: 'Remove',
                amazon_product_description: 'Product Description',
                amazon_specifications: 'Technical Specifications',
                amazon_prime_delivery: '‚ö° prime - FREE One-Day Delivery',
                amazon_reviews: 'reviews',
                amazon_footer_tagline: '¬© 2025 Amazon.za - Your Premier Shopping Destination',
                amazon_footer_trust: 'Shop with confidence ‚Ä¢ Fast delivery ‚Ä¢ Secure payments'
            });

            // Czech translations
            Object.assign(I18N.translations.cs, {
                amazon_deliver_to: 'Doruƒçit do',
                amazon_search_placeholder: 'Hledat skvƒõl√© nab√≠dky...',
                amazon_cart: 'Ko≈°√≠k',
                amazon_all_categories: 'V≈°echny kategorie',
                amazon_todays_deals: 'Dne≈°n√≠ nab√≠dky',
                amazon_gift_ideas: 'D√°rkov√© n√°pady',
                amazon_flash_sale: 'Bleskov√Ω v√Ωprodej',
                amazon_gift_cards: 'D√°rkov√© karty',
                amazon_track_order: 'Sledovat objedn√°vku',
                amazon_hero_title: 'V√≠tejte v n√°kupn√≠m r√°ji! üéä',
                amazon_hero_subtitle: 'Objevte √∫≈æasn√© produkty, kter√© absolutnƒõ pot≈ôebujete (nebo mo≈æn√° ne)',
                amazon_explore_deals: 'Prozkoumat nab√≠dky',
                amazon_all_products: 'V≈°echny produkty',
                amazon_essential_items: 'Nezbytn√© polo≈æky',
                amazon_questionable: 'Pochybn√©',
                amazon_impulse_buys: 'Impulzivn√≠ n√°kupy',
                amazon_prime_only: 'Pouze Prime',
                amazon_essential_title: '‚ú® Absolutnƒõ nezbytn√© polo≈æky',
                amazon_questionable_title: 'ü§î Pochybn√© volby',
                amazon_impulse_title: 'üòà Z√≥na impulzivn√≠ch n√°kup≈Ø',
                amazon_view_all: 'Zobrazit v≈°e ‚Üí',
                amazon_shopping_cart: 'N√°kupn√≠ ko≈°√≠k üõí',
                amazon_cart_empty: 'V√°≈° ko≈°√≠k je pr√°zdn√Ω!',
                amazon_cart_empty_desc: 'Zaƒçnƒõte p≈ôid√°vat √∫≈æasn√© polo≈æky',
                amazon_total: 'Celkem',
                amazon_checkout: 'P≈ôej√≠t k pokladnƒõ üí≥',
                amazon_secure_checkout: 'Zabezpeƒçen√° pokladna üîí',
                amazon_code_hint: 'Zadejte sv≈Øj speci√°ln√≠ platebn√≠ k√≥d pro dokonƒçen√≠ n√°kupu',
                amazon_try_codes: 'üí° Zkuste tyto k√≥dy:',
                amazon_enter_code: 'Zadat k√≥d',
                amazon_complete_payment: 'Dokonƒçit platbu üí∞',
                amazon_payment_success: 'Platba √∫spƒõ≈°n√°!',
                amazon_order_confirmed: 'Va≈°e objedn√°vka byla potvrzena',
                amazon_order_number: 'Objedn√°vka #AMZ-',
                amazon_delivery: 'Odhadovan√© doruƒçen√≠: 3-5 pracovn√≠ch dn≈Ø üì¶',
                amazon_continue_shopping: 'Pokraƒçovat v n√°kupu',
                amazon_add_to_cart: 'P≈ôidat do ko≈°√≠ku',
                amazon_remove: 'Odebrat',
                amazon_product_description: 'Popis produktu',
                amazon_specifications: 'Technick√© specifikace',
                amazon_prime_delivery: '‚ö° prime - ZDARMA doruƒçen√≠ dal≈°√≠ den',
                amazon_reviews: 'recenz√≠',
                amazon_footer_tagline: '¬© 2025 Amazon.za - Va≈°e pr√©miov√° n√°kupn√≠ destinace',
                amazon_footer_trust: 'Nakupujte s d≈Øvƒõrou ‚Ä¢ Rychl√© doruƒçen√≠ ‚Ä¢ Zabezpeƒçen√© platby'
            });
        }

        // Function to apply translations to all elements
        function applyTranslations() {
            console.log('Applying translations, current language:', I18N.currentLang);
            
            // Translate all elements with data-i18n-key
            document.querySelectorAll('[data-i18n-key]').forEach(element => {
                const key = element.getAttribute('data-i18n-key');
                const translation = I18N.t(key);
                element.textContent = translation;
            });
            
            // Translate placeholders
            document.querySelectorAll('[data-i18n-key-placeholder]').forEach(element => {
                const key = element.getAttribute('data-i18n-key-placeholder');
                const translation = I18N.t(key);
                element.placeholder = translation;
            });
            
            // Update product titles and descriptions based on language
            updateProductLanguage();
            
            // Re-render products with current language
            const essentialProducts = products.filter(p => p.category === 'essential');
            const questionableProducts = products.filter(p => p.category === 'questionable');
            const impulseProducts = products.filter(p => p.category === 'impulse');
            
            document.getElementById('products-essential').innerHTML = essentialProducts.map(createProduct).join('');
            document.getElementById('products-questionable').innerHTML = questionableProducts.map(createProduct).join('');
            document.getElementById('products-impulse').innerHTML = impulseProducts.map(createProduct).join('');
            
            // Update cart display if open
            if (document.getElementById('cart-modal').classList.contains('active')) {
                updateCartDisplay();
            }
        }
        
        function updateProductLanguage() {
            // This will be called when language changes
            console.log('Updating product language to:', I18N.currentLang);
        }

        // Enhanced product database with COMPLETE Czech translations
        const products = [
    {
        id: 1,
        title: 'Psychopath Security Guard - Blonde Czech Edition',
        title_cs: 'Psychopatick√° bezpeƒçnostn√≠ hl√≠dka - Blond ƒçesk√° edice',
        image: 'https://i.imgur.com/GDcziXq.jpeg',
        price: 1499,
        originalPrice: 2999,
        rating: 2.3,
        reviews: '666',
        prime: false,
        category: 'questionable',
        badge: '‚ö†Ô∏è Danger',
        badge_cs: '‚ö†Ô∏è Nebezpeƒç√≠',
        description: 'Hire this crazy white Czech girl who will chase intruders around at night with a glow stick! Acts like security but mostly just terrifies everyone. Perfect for keeping your property safe through sheer psychological warfare. Warning: May also scare away pizza delivery drivers, your own family members, and local wildlife. Not responsible for therapy bills.',
        description_cs: 'Najmƒõte si tuto ≈°√≠lenou b√≠lou ƒçeskou holku, kter√° bude pron√°sledovat naru≈°itele v noci s fluorescenƒçn√≠ tyƒç√≠! Chov√° se jako ochranka, ale vƒõt≈°inou jen v≈°echny dƒõs√≠. Ide√°ln√≠ pro ochranu majetku pomoc√≠ psychologick√©ho teroru. Varov√°n√≠: M≈Ø≈æe tak√© vydƒõsit doruƒçovatele pizzy, va≈°e vlastn√≠ rodinn√© p≈ô√≠slu≈°n√≠ky a m√≠stn√≠ divokou zvƒõ≈ô. Nejsme zodpovƒõdn√≠ za √∫ƒçty za terapii.',
        specs: [
            'Nationality: Czech Republic',
            'Hair Color: Blonde (possibly natural)',
            'Sanity Level: Questionable at best',
            'Work Hours: Exclusively nighttime',
            'Equipment: 1x Glow stick (color varies)',
            'Training: Unknown / Self-taught',
            'Success Rate: 100% (nobody stays around)',
            'Warranty: None. Seriously.',
            'Side Effects: Nightmares, PTSD, fear of the dark',
            'Language Skills: Czech, broken English, screaming'
        ],
        specs_cs: [
            'N√°rodnost: ƒåesk√° republika',
            'Barva vlas≈Ø: Blond (mo≈æn√° p≈ôirozen√°)',
            '√örove≈à p≈ô√≠ƒçetnosti: Pochybn√° v nejlep≈°√≠m p≈ô√≠padƒõ',
            'Pracovn√≠ doba: V√Ωhradnƒõ noƒçn√≠',
            'Vybaven√≠: 1x Fluorescenƒçn√≠ tyƒç (barva se li≈°√≠)',
            '≈†kolen√≠: Nezn√°m√© / Samouk',
            '√öspƒõ≈°nost: 100% (nikdo nez≈Østane)',
            'Z√°ruka: ≈Ω√°dn√°. V√°≈ænƒõ.',
            'Vedlej≈°√≠ √∫ƒçinky: Noƒçn√≠ m≈Øry, PTSD, strach ze tmy',
            'Jazykov√© znalosti: ƒåe≈°tina, rozbit√° angliƒçtina, k≈ôik'
        ]
    },
    {
        id: 2,
        title: 'Mogu Mogu Lychee Drink',
        title_cs: 'Mogu Mogu s p≈ô√≠chut√≠ liƒçi',
        image: 'https://i.imgur.com/oEvARY5.jpeg',
        price: 45,
        originalPrice: 89,
        rating: 4.7,
        reviews: '12,847',
        prime: true,
        category: 'essential',
        badge: 'Refreshing',
        badge_cs: 'Osvƒõ≈æuj√≠c√≠',
        description: 'Delicious lychee juice with chewy bits! It\'s like drinking a fruit salad, but in liquid form with weird squishy coconut jelly chunks that make you question your life choices. Imported straight from Thailand where they apparently decided drinks should also be a chewing experience. Perfect for confusing your mouth!',
        description_cs: 'Lahodn√Ω n√°poj s liƒçi d≈æusem a ≈æv√Ωkac√≠mi kousky! Je to jako p√≠t ovocn√Ω sal√°t, ale v tekut√© formƒõ s divn√Ωmi gumov√Ωmi kousky kokosov√© ≈æel√©, kter√© v√°s p≈ôimƒõje zpochybnit sv√© ≈æivotn√≠ volby. Dov√°≈æeno p≈ô√≠mo z Thajska, kde z≈ôejmƒõ rozhodli, ≈æe n√°poje by mƒõly b√Ωt tak√© ≈æv√Ωkac√≠ z√°≈æitek. Ide√°ln√≠ pro zm√°st sv√© chu≈•ov√© poh√°rky!',
        specs: [
            'Volume: 320ml (one serving of confusion)',
            'Flavor: Lychee (allegedly)',
            'Texture: Liquid + Chewy bits',
            'Origin: Thailand',
            'Ingredients: Lychee juice, coconut jelly, mystery',
            'Calories: Who cares, it\'s delicious',
            'Warning: May cause addiction',
            'Best served: Cold or room temp (still weird)',
            'Expiration: Check bottle (if you dare)',
            'Fun Fact: Name means "chew chew" in Thai'
        ],
        specs_cs: [
            'Objem: 320ml (jedna porce zmatku)',
            'P≈ô√≠chu≈•: Liƒçi (√∫dajnƒõ)',
            'Textura: Tekut√° + ≈Ωv√Ωkac√≠ kousky',
            'P≈Øvod: Thajsko',
            'Ingredience: Liƒçi d≈æus, kokosov√° ≈æel√©, tajemstv√≠',
            'Kalorie: Koho to zaj√≠m√°, je to lahodn√©',
            'Varov√°n√≠: M≈Ø≈æe zp≈Øsobit z√°vislost',
            'Nejl√©pe pod√°vat: Chlazen√© nebo pokojov√© (st√°le divn√©)',
            'Expirace: Zkontrolujte lahev (pokud se odv√°≈æ√≠te)',
            'Zaj√≠mavost: Jm√©no znamen√° "≈æv√Ωkej ≈æv√Ωkej" v thaj≈°tinƒõ'
        ]
    },
    {
        id: 3,
        title: 'Emotional Support Donuts',
        title_cs: 'Koblihy pro emocion√°ln√≠ podporu',
        image: 'https://i.imgur.com/EZayczI.jpeg',
        price: 399,
        originalPrice: 649,
        rating: 5.0,
        reviews: '23,456',
        prime: true,
        category: 'essential',
        badge: 'Therapy',
        badge_cs: 'Terapie',
        description: 'Plush donuts for baby adults who can\'t handle life. Because sometimes you\'re 35 and still need a comfort object that won\'t judge you for crying during Disney movies. Cheaper than actual therapy and significantly more huggable. These donuts won\'t fix your problems, but at least they won\'t ghost you either. Perfect for existential crises, Monday mornings, or just existing in general.',
        description_cs: 'Ply≈°ov√© koblihy pro dospƒõl√° mimina, kter√° nezvl√°daj√≠ ≈æivot. Proto≈æe nƒõkdy m√°te 35 let a st√°le pot≈ôebujete utƒõ≈°uj√≠c√≠ p≈ôedmƒõt, kter√Ω v√°s nebude soudit za pl√°ƒç p≈ôi Disney filmech. Levnƒõj≈°√≠ ne≈æ skuteƒçn√° terapie a v√Ωraznƒõ v√≠ce obejmateln√©. Tyto koblihy nevy≈ôe≈°√≠ va≈°e probl√©my, ale aspo≈à v√°s nebudou ghostovat. Perfektn√≠ pro existenci√°ln√≠ krize, pondƒõln√≠ r√°na, nebo jen obecnƒõ existenci.',
        specs: [
            'Material: Ultra-soft plush (softer than your future)',
            'Size: Medium (perfect for hugging)',
            'Color Options: Pink, Brown, Rainbow sprinkles',
            'Filling: 100% polyester + crushed dreams',
            'Therapy Sessions: Unlimited',
            'Judgment Level: Zero',
            'Recommended Age: 25-45 (or whenever life hits)',
            'Calories: 0 (unlike real donuts)',
            'Washable: Yes (tears come out easily)',
            'Comes with: Free validation',
            'Side Effects: Temporary happiness',
            'Warning: Not edible (we have to say this)'
        ],
        specs_cs: [
            'Materi√°l: Ultra-mƒõkk√Ω ply≈° (mƒõkƒç√≠ ne≈æ va≈°e budoucnost)',
            'Velikost: St≈ôedn√≠ (perfektn√≠ na obj√≠m√°n√≠)',
            'Barevn√© varianty: R≈Ø≈æov√°, hnƒõd√°, duhov√© posypky',
            'N√°pl≈à: 100% polyester + rozdrcen√© sny',
            'Terapeutick√© sezen√≠: Neomezen√©',
            '√örove≈à posuzov√°n√≠: Nula',
            'Doporuƒçen√Ω vƒõk: 25-45 (nebo kdykoli ≈æivot ude≈ô√≠)',
            'Kalorie: 0 (na rozd√≠l od skuteƒçn√Ωch koblih)',
            'Prateln√©: Ano (slzy se snadno vyprou)',
            'Dod√°v√° se s: Zdarma validac√≠',
            'Vedlej≈°√≠ √∫ƒçinky: Doƒçasn√© ≈°tƒõst√≠',
            'Varov√°n√≠: Nejedl√© (mus√≠me to ≈ô√≠ct)'
        ]
    },
    {
        id: 4,
        title: 'Black Bonnet - Satin Sleep Cap',
        title_cs: 'ƒåern√Ω ƒçepec - Sat√©nov√° ƒçepice',
        image: 'https://i.imgur.com/NpV31rt.jpeg',
        price: 149,
        originalPrice: 249,
        rating: 4.6,
        reviews: '8,765',
        prime: true,
        category: 'essential',
        badge: 'Beauty Sleep',
        badge_cs: 'Sp√°nek kr√°sy',
        description: 'Protect your hair while you sleep in luxurious satin! Wake up looking like a pampered queen instead of a bird\'s nest survivor. Your pillow has been secretly destroying your hair all these years - this is your revenge. Suitable for all hair types, especially those who are tired of waking up looking like they fought a tornado and lost.',
        description_cs: 'Chra≈àte sv√© vlasy bƒõhem sp√°nku v luxusn√≠m sat√©nu! Probuƒète se vypadaj√≠c√≠ jako rozmazlovan√° kr√°lovna m√≠sto p≈ôe≈æiv≈°√≠ho ptaƒç√≠ho hn√≠zda. V√°≈° pol≈°t√°≈ô tajnƒõ niƒçil va≈°e vlasy po v≈°echny tyto roky - toto je va≈°e pomsta. Vhodn√© pro v≈°echny typy vlas≈Ø, zvl√°≈°tƒõ pro ty, kte≈ô√≠ jsou unaven√≠ z toho, ≈æe se bud√≠ vypadaj√≠c√≠ jako kdyby bojovali s torn√°dem a prohr√°li.',
        specs: [
            'Material: Premium satin (fancy!)',
            'Color: Midnight Black',
            'Size: One size fits most heads',
            'Elastic Band: Adjustable comfort',
            'Hair Protection: Maximum',
            'Frizz Reduction: 95%',
            'Morning Hair Disasters: Prevented',
            'Works For: All hair types and textures',
            'Care: Hand wash, air dry',
            'Durability: Built to last',
            'Bonus: Feel fancy while sleeping',
            'Partners Opinion: "Why are you wearing that?"'
        ],
        specs_cs: [
            'Materi√°l: Pr√©miov√Ω sat√©n (luxusn√≠!)',
            'Barva: P≈Ølnoƒçn√≠ ƒçern√°',
            'Velikost: Jedna velikost pro vƒõt≈°inu hlav',
            'Elastick√° p√°ska: Nastaviteln√Ω komfort',
            'Ochrana vlas≈Ø: Maxim√°ln√≠',
            'Redukce krepatƒõn√≠: 95%',
            'Rann√≠ vlasov√© katastrofy: Zabr√°nƒõno',
            'Funguje pro: V≈°echny typy a textury vlas≈Ø',
            'P√©ƒçe: Ruƒçn√≠ pran√≠, su≈°en√≠ na vzduchu',
            'Odolnost: Vyrobeno na dlouhou dobu',
            'Bonus: C√≠tit se luxusnƒõ p≈ôi sp√°nku',
            'N√°zor partnera: "Proƒç to m√°≈° na sobƒõ?"'
        ]
    },
    {
        id: 5,
        title: 'Brand New TV - 100% Works',
        title_cs: '√öplnƒõ nov√° TV - 100% funguje',
        image: 'https://i.imgur.com/jwW1u61.jpeg',
        price: 3999,
        originalPrice: 6999,
        rating: 4.9,
        reviews: '15,234',
        prime: true,
        category: 'essential',
        badge: '‚úÖ Certified',
        badge_cs: '‚úÖ Certifikov√°no',
        description: 'BRAND NEW TV. Trust us completely! Still in box (we think). Definitely never used (probably). May or may not have "fell off a truck" but that\'s none of our business. Serial number slightly scratched off but that\'s totally normal, right? Comes with a suspiciously generic remote and absolutely zero questions asked policy. Works 100% (citation needed).',
        description_cs: '√öPLNƒö NOV√Å televize. Vƒõ≈ôte n√°m na 100%! Fakt! St√°le v krabici (mysl√≠me). Urƒçitƒõ nikdy nepou≈æit√° (pravdƒõpodobnƒõ). Mo≈æn√° "spadla z n√°klaƒè√°ku" ale to nen√≠ na≈°e vƒõc. S√©riov√© ƒç√≠slo lehce se≈°kr√°bnut√©, ale to je tot√°lnƒõ norm√°ln√≠, ne? Dod√°v√° se s podez≈ôele generick√Ωm ovladaƒçem a absolutnƒõ ≈æ√°dnou politikou kladen√≠ ot√°zek. Funguje na 100% (citace nutn√°).',
        specs: [
            'Condition: "Brand New" (trust us bro)',
            'Screen Size: Big enough (we forgot to check)',
            'Resolution: HD? 4K? Yes.',
            'Smart Features: Probably',
            'Remote Control: Included (universal... very universal)',
            'HDMI Ports: Some',
            'Warranty: LOL',
            'Serial Number: What serial number?',
            'Original Packaging: Mostly intact',
            'Provenance: Don\'t ask',
            'Returns: No questions, but also no returns',
            'Previous Owners: Allegedly zero'
        ],
        specs_cs: [
            'Stav: "√öplnƒõ nov√°" (vƒõ≈ô n√°m brat≈ôe)',
            'Velikost obrazovky: Dost velk√° (zapomnƒõli jsme zkontrolovat)',
            'Rozli≈°en√≠: HD? 4K? Ano.',
            'Chytr√© funkce: Pravdƒõpodobnƒõ',
            'D√°lkov√Ω ovladaƒç: Souƒç√°st√≠ (univerz√°ln√≠... velmi univerz√°ln√≠)',
            'HDMI porty: Nƒõjak√©',
            'Z√°ruka: LOL',
            'S√©riov√© ƒç√≠slo: Jak√© s√©riov√© ƒç√≠slo?',
            'P≈Øvodn√≠ balen√≠: Vƒõt≈°inou neporu≈°en√©',
            'P≈Øvod: Neptej se',
            'Vr√°cen√≠: ≈Ω√°dn√© ot√°zky, ale tak√© ≈æ√°dn√© vr√°cen√≠',
            'P≈ôedchoz√≠ majitel√©: √ödajnƒõ nula'
        ]
    },
    {
        id: 6,
        title: 'Glow-in-the-Dark Bear',
        title_cs: 'Sv√≠t√≠c√≠ medvƒõd',
        image: 'https://i.imgur.com/DS1slmw.jpeg',
        price: 599,
        originalPrice: 999,
        rating: 4.8,
        reviews: '9,234',
        prime: true,
        category: 'essential',
        badge: 'Glows!',
        badge_cs: 'Sv√≠t√≠!',
        description: 'Geometric LED bear with RGB vibes! This isn\'t your grandma\'s teddy bear - this is FUTURE bear. Features more lighting modes than you have life goals. Perfect for people who think regular bears are too boring and need their stuffed animals to look like they belong at a rave. Warning: May cause spontaneous dancing.',
        description_cs: 'Geometrick√Ω LED medvƒõd s RGB efekty! Tohle nen√≠ ply≈°√°k va≈°√≠ babiƒçky - tohle je medvƒõd BUDOUCNOSTI. M√° v√≠ce svƒõteln√Ωch re≈æim≈Ø ne≈æ m√°te ≈æivotn√≠ch c√≠l≈Ø. Perfektn√≠ pro lidi, kte≈ô√≠ si mysl√≠, ≈æe norm√°ln√≠ medvƒõdi jsou p≈ô√≠li≈° nudn√≠ a pot≈ôebuj√≠, aby jejich ply≈°√°ci vypadali jako z technoparty. Varov√°n√≠: M≈Ø≈æe zp≈Øsobit spont√°nn√≠ tanec.',
        specs: [
            'Style: Geometric / Low-poly design',
            'Lights: RGB LED (all the colors)',
            'Modes: Static, Fade, Flash, Party mode',
            'Power: USB rechargeable',
            'Battery Life: 6-8 hours of glow',
            'Size: 30cm tall (perfect desk buddy)',
            'Material: Plastic + electronics',
            'Glow Level: MAXIMUM',
            'Recommended For: Ravers, gamers, night owls',
            'Energy: Big techno energy',
            'Annoying Factor: High (but in a good way)',
            'Mood: Always vibing'
        ],
        specs_cs: [
            'Styl: Geometrick√Ω / Low-poly design',
            'Svƒõtla: RGB LED (v≈°echny barvy)',
            'Re≈æimy: Statick√Ω, Prol√≠n√°n√≠, Blik√°n√≠, Party re≈æim',
            'Nap√°jen√≠: USB dob√≠jec√≠',
            'V√Ωdr≈æ baterie: 6-8 hodin sv√≠cen√≠',
            'Velikost: 30cm vysok√Ω (perfektn√≠ kamar√°d na st≈Øl)',
            'Materi√°l: Plast + elektronika',
            '√örove≈à sv√≠cen√≠: MAXIM√ÅLN√ç',
            'Doporuƒçeno pro: Rave≈ôi, hr√°ƒçi, noƒçn√≠ pt√°ci',
            'Energie: Velk√° techno energie',
            'Faktor otravnosti: Vysok√Ω (ale v dobr√©m smyslu)',
            'N√°lada: V≈ædy ve vibesu'
        ]
    },
    {
        id: 7,
        title: '2 Chihuahua Puppies',
        title_cs: '2 ≈°tƒõ≈àata ƒçivavy',
        image: 'https://i.imgur.com/1qXFs5G.jpeg',
        price: 8999,
        originalPrice: 12999,
        rating: 5.0,
        reviews: '3,456',
        prime: false,
        category: 'questionable',
        badge: 'üêï Live',
        badge_cs: 'üêï ≈Ωiv√©',
        description: 'Two adorable chihuahua puppies! Warning: These tiny potatoes with anxiety will steal your heart and your socks. They will pee on you (always). Size of a baked potato, attitude of a wolf. Will bark at literally everything including their own reflection, the wind, and existential dread. Come in a matching set because misery loves company.',
        description_cs: 'Dvƒõ roztomil√° ≈°tƒõ≈à√°tka ƒçivavy! Varov√°n√≠: Tyto mal√© brambory s √∫zkost√≠ v√°m ukradnou srdce i pono≈æky. ƒå≈Øraj√≠ √∫plnƒõ v≈°ude (fakt hodnƒõ). Velikost peƒçen√© brambory, postoj vlka. Budou ≈°tƒõkat doslova na v≈°echno vƒçetnƒõ vlastn√≠ho odrazu, vƒõtru a existenci√°ln√≠ √∫zkosti. Dod√°v√° se v p√°rov√© sadƒõ, proto≈æe b√≠da m√° r√°da spoleƒçnost.',
        specs: [
            'Quantity: 2 (buy one anxiety, get one free)',
            'Size: Potato (approximately 1.5kg each)',
            'Noise Level: MAXIMUM',
            'Pee alert: Constant ',
            'Temperament: Confident napoleon complex',
            'Energy: Unlimited (unfortunately)',
            'Sleep Schedule: Random',
            'Destructive Power: Surprisingly high',
            'Vet Bills: Yes',
            'Training Difficulty: LOL good luck',
            'Comes With: Attitude, sass, trembling',
            'Food: They eat like kings',
            'Lifespan: 12-20 years of chaos',
            'Warning: NOT for amateur dog owners'
        ],
        specs_cs: [
            'Mno≈æstv√≠: 2 (kup jednu √∫zkost, druhou zdarma)',
            'Velikost: Brambora (p≈ôibli≈ænƒõ 1,5kg ka≈æd√°)',
            '√örove≈à hluku: MAXIM√ÅLN√ç',
            'Pozor, ƒç≈Ør√°n√≠: Nonstop',
            'Temperament: Sebevƒõdom√Ω napoleonsk√Ω komplex',
            'Energie: Neomezen√° (bohu≈æel)',
            'Spac√≠ re≈æim: N√°hodn√Ω',
            'Destruktivn√≠ s√≠la: P≈ôekvapivƒõ vysok√°',
            'Veterin√°rn√≠ √∫ƒçty: Ano',
            'Obt√≠≈ænost v√Ωcviku: LOL hodnƒõ ≈°tƒõst√≠',
            'Dod√°v√° se s: Postojem, drzost√≠, t≈ôesem',
            'J√≠dlo: Jed√≠ jako kr√°lov√©',
            'D√©lka ≈æivota: 12-20 let chaosu',
            'Varov√°n√≠: NE pro amat√©rsk√© majitele ps≈Ø'
        ]
    },
    {
        id: 8,
        title: 'Plane Ticket to Cape Town',
        title_cs: 'Letenka do Kapsk√©ho Mƒõsta',
        image: 'https://i.imgur.com/KMat9ND.jpeg',
        price: 4299,
        originalPrice: 5999,
        rating: 3.8,
        reviews: '8,765',
        prime: false,
        category: 'questionable',
        badge: '‚úàÔ∏è Travel',
        badge_cs: '‚úàÔ∏è Cestov√°n√≠',
        description: 'One way ticket to Cape Town. Seat 32K (the one by the bathroom that doesn\'t recline). We can\'t guarantee the departure time, the airline, or that you\'ll actually arrive, but hey - it\'s an adventure! Note: Return ticket sold separately (obviously). May include complimentary crying baby in seat 32J.',
        description_cs: 'Jednosmƒõrn√° cesta do Kapsk√©ho Mƒõsta. Sedadlo 32K (to u z√°chodu, kter√© se nenakl√°n√≠). Nem≈Ø≈æeme garantovat ƒças odletu, leteckou spoleƒçnost, nebo ≈æe skuteƒçnƒõ doraz√≠te, ale hej - to je dobrodru≈æstv√≠! Pozn√°mka: Zp√°teƒçn√≠ letenka prod√°v√°na zvl√°≈°≈• (samoz≈ôejmƒõ). M≈Ø≈æe zahrnovat zdarma plaƒç√≠c√≠ miminko na sedadle 32J.',
        specs: [
            'Direction: One way (no coming back apparently)',
            'Destination: Cape Town, South Africa',
            'Seat: 32K (by the loo, smells great)',
            'Class: Economy (the struggle)',
            'Recline: Nope',
            'Legroom: What legroom?',
            'Meal: Peanuts (maybe)',
            'Entertainment: Broken screen',
            'Departure: "Soon"',
            'Airline: Budget Airlines Inc.',
            'Baggage: Extra fee (of course)',
            'Neighbors: Guaranteed crying baby',
            'WiFi: R500 extra',
            'Refundable: Absolutely not'
        ],
        specs_cs: [
            'Smƒõr: Jednosmƒõrn√° (z≈ôejmƒõ se nevr√°t√≠te)',
            'Destinace: Kapsk√© Mƒõsto, Ji≈æn√≠ Afrika',
            'Sedadlo: 32K (u z√°chodu, skvƒõle von√≠)',
            'T≈ô√≠da: Ekonomick√° (boj)',
            'Naklonƒõn√≠: Ne',
            'Prostor pro nohy: Jak√Ω prostor?',
            'J√≠dlo: Ara≈°√≠dy (mo≈æn√°)',
            'Z√°bava: Rozbit√° obrazovka',
            'Odlet: "Brzy"',
            'Leteck√° spoleƒçnost: Budget Airlines Inc.',
            'Zavazadla: Extra poplatek (samoz≈ôejmƒõ)',
            'Soused√©: Garantovan√© plaƒç√≠c√≠ miminko',
            'WiFi: 500 Kƒç extra',
            'Vratn√©: Absolutnƒõ ne'
        ]
    },
    {
        id: 9,
        title: 'Used TV - Definitely Works',
        title_cs: 'Pou≈æit√° TV - Fakt funguje',
        image: 'https://i.imgur.com/oM0E9kf.jpeg',
        price: 2499,
        originalPrice: 4999,
        rating: 3.5,
        reviews: '12,345',
        prime: false,
        category: 'questionable',
        badge: 'Pre-Owned',
        badge_cs: 'Z druh√© ruky',
        description: 'Owner REALLY wants to sell. Definitely works! (He said three times, unprompted). Only used for "watching TV" (air quotes included). Minor scratches (and one mysterious stain we don\'t discuss). Remote works perfectly (if you hit it just right). The owner is moving "very suddenly" and "needs it gone ASAP" which is totally normal and not suspicious at all.',
        description_cs: 'Majitel tuhle televizi FAKT chce prodat. Urƒçitƒõ funguje! (≈òekl t≈ôikr√°t, bez vyzv√°n√≠). Pou≈æ√≠v√°na pouze na "sledov√°n√≠ TV" (uvozovky zahrnuty). Men≈°√≠ ≈°kr√°bance (a jedna z√°hadn√° skvrna o kter√© nemluv√≠me). Ovladaƒç funguje perfektnƒõ (kdy≈æ na nƒõj ude≈ô√≠te spr√°vnƒõ). Majitel se stƒõhuje "velmi n√°hle" a "pot≈ôebuje se j√≠ zbavit ASAP" co≈æ je tot√°lnƒõ norm√°ln√≠ a v≈Øbec ne podez≈ôel√©.',
        specs: [
            'Condition: "Good" (owner\'s words)',
            'Previous Use: "Light" (questionable)',
            'Scratches: Minimal (if you squint)',
            'Mysterious Stains: 1 (don\'t ask)',
            'Remote: Included (temperamental)',
            'Seller Urgency: VERY HIGH',
            'Reason for Selling: "Moving" (hmm)',
            'Screen: Works (mostly)',
            'Sound: Functional (occasional buzzing)',
            'Smart Features: Maybe? Unsure.',
            'Age: "Not that old" (vague)',
            'Smell: Slight electronics + mystery',
            'Pick Up: TODAY PLEASE',
            'Questions: Please don\'t ask any'
        ],
        specs_cs: [
            'Stav: "Dobr√Ω" (slova majitele)',
            'P≈ôedchoz√≠ pou≈æit√≠: "Lehk√©" (pochybn√©)',
            '≈†kr√°bance: Minim√°ln√≠ (kdy≈æ zamhou≈ô√≠te)',
            'Z√°hadn√© skvrny: 1 (neptejte se)',
            'Ovladaƒç: Souƒç√°st√≠ (vrtkav√Ω)',
            'Nal√©havost prodejce: VELMI VYSOK√Å',
            'D≈Øvod prodeje: "Stƒõhov√°n√≠" (hmm)',
            'Obrazovka: Funguje (vƒõt≈°inou)',
            'Zvuk: Funkƒçn√≠ (obƒçasn√© bzuƒçen√≠)',
            'Chytr√© funkce: Mo≈æn√°? Nev√≠m.',
            'Vƒõk: "Ne tak star√Ω" (v√°gn√≠)',
            'Z√°pach: M√≠rn√° elektronika + z√°hada',
            'Vyzvednut√≠: DNES PROS√çM',
            'Ot√°zky: Pros√≠m neptejte se'
        ]
    },
    {
        id: 10,
        title: '2 Different Bowls',
        title_cs: '2 r≈Øzn√© misky',
        image: 'https://i.imgur.com/K3WOCYl.jpeg',
        price: 199,
        originalPrice: 349,
        rating: 4.2,
        reviews: '5,432',
        prime: true,
        category: 'essential',
        badge: 'Practical',
        badge_cs: 'Praktick√©',
        description: 'Two bowls. Different colors. That\'s it. They hold things. Soup, cereal, sadness, regrets. Microwave safe (probably). Dishwasher safe (we hope). They\'re bowls. What more do you want? A description? Well, they\'re round, they\'re deep, they exist. Peak minimalism. Revolutionary bowl technology: they have an inside AND an outside.',
        description_cs: 'Dvƒõ misky. R≈Øzn√© barvy. To je v≈°echno. Dr≈æ√≠ vƒõci. Pol√©vku, cere√°lie, smutek, l√≠tost. Bezpeƒçn√© do mikrovlnky (pravdƒõpodobnƒõ). Bezpeƒçn√© do myƒçky (douf√°me). Jsou to misky. Co v√≠c chcete? Popis? No, jsou kulat√©, jsou pr√°zdn√©, existuj√≠. Vrchol minimalismu. Revoluƒçn√≠ technologie misek: maj√≠ vnit≈ôek A vnƒõj≈°ek.',
        specs: [
            'Quantity: 2 (that\'s two)',
            'Colors: Red & Black (fancy)',
            'Shape: Round (groundbreaking)',
            'Purpose: Holding stuff',
            'Material: Ceramic (probably)',
            'Size: Medium bowl size',
            'Depth: Yes',
            'Handles: No',
            'Weight: Light enough',
            'Stackable: If you believe',
            'Microwave Safe: Should be',
            'Dishwasher Safe: Hopefully',
            'Uses: Literally anything bowl-related',
            'Innovation: It\'s a bowl'
        ],
        specs_cs: [
            'Mno≈æstv√≠: 2 (to jsou dvƒõ)',
            'Barvy: ƒåerven√° a ƒçern√° (luxusn√≠)',
            'Tvar: Kulat√Ω (p≈ôevratn√©)',
            '√öƒçel: Dr≈æet vƒõci',
            'Materi√°l: Keramika (pravdƒõpodobnƒõ)',
            'Velikost: St≈ôedn√≠ velikost misky',
            'Hloubka: Ano',
            'Rukojeti: Ne',
            'Hmotnost: Dost lehk√©',
            'Stohovateln√©: Pokud vƒõ≈ô√≠te',
            'Do mikrovlnky: Mƒõlo by to j√≠t',
            'Do myƒçky: Doufejme',
            'Pou≈æit√≠: Doslova cokoli souvisej√≠c√≠ho s miskami',
            'Inovace: Je to miska'
        ]
    },
    {
        id: 11,
        title: 'Christmas Tree + 2 Girls',
        title_cs: 'V√°noƒçn√≠ stromek + 2 holky',
        image: 'https://i.imgur.com/lySUEsK.jpeg',
        price: 899,
        originalPrice: 1499,
        rating: 4.7,
        reviews: '6,789',
        prime: false,
        category: 'impulse',
        badge: 'üéÑ Festive',
        badge_cs: 'üéÑ Sv√°teƒçn√≠',
        description: 'LED Christmas tree with 2 girls included for scale/moral support! The tree lights up in multiple colors, the girls provide commentary and gift wrapping services (terms and conditions apply). Perfect for awkward family photos. Tree is 6 feet tall, girls are average height, vibes are immaculate. Warning: Girls may judge your decorating choices.',
        description_cs: 'LED v√°noƒçn√≠ stromek s 2 holkami v cenƒõ pro mƒõ≈ô√≠tko/mor√°ln√≠ podporu! Stromek sv√≠t√≠ v r≈Øzn√Ωch barv√°ch, holky poskytuj√≠ koment√°≈ô a slu≈æby balen√≠ d√°rk≈Ø (plat√≠ podm√≠nky). Perfektn√≠ pro trapn√© rodinn√© fotky. Stromek je 180cm vysok√Ω, holky pr≈Ømƒõrn√© v√Ω≈°ky, atmosf√©ra je dokonal√°. Varov√°n√≠: Holky mohou soudit va≈°e dekoraƒçn√≠ volby.',
        specs: [
            'Tree Height: 6 feet (182cm)',
            'LED Colors: RGB multi-color',
            'Lighting Modes: 8 settings',
            'Girls Included: 2 (non-negotiable)',
            'Girl Services: Commentary, judgment, photos',
            'Assembly Required: Yes (girls help maybe)',
            'Power: Electric plug',
            'Ornaments: Sold separately',
            'Star Topper: Not included',
            'Decorating Advice: Free (unsolicited)',
            'Photo Opportunities: Unlimited',
            'Seasonal Use: Christmas obviously',
            'Storage: Good luck',
            'Returns: Tree yes, girls no'
        ],
        specs_cs: [
            'V√Ω≈°ka stromu: 182cm (6 stop)',
            'LED barvy: RGB v√≠ce barev',
            'Svƒõteln√© re≈æimy: 8 nastaven√≠',
            'Holky v cenƒõ: 2 (nemƒõnn√©)',
            'Slu≈æby holek: Koment√°≈ôe, posuzov√°n√≠, fotky',
            'Mont√°≈æ nutn√°: Ano (holky mo≈æn√° pomohou)',
            'Nap√°jen√≠: Elektrick√° z√°strƒçka',
            'Ozdoby: Prod√°vaj√≠ se zvl√°≈°≈•',
            'Hvƒõzda na vrchol: Nen√≠ souƒç√°st√≠',
            'Dekoraƒçn√≠ rady: Zdarma (nevy≈æ√°dan√©)',
            'Foto p≈ô√≠le≈æitosti: Neomezen√©',
            'Sez√≥nn√≠ pou≈æit√≠: V√°noce samoz≈ôejmƒõ',
            'Skladov√°n√≠: Hodnƒõ ≈°tƒõst√≠',
            'Vr√°cen√≠: Stromek ano, holky ne'
        ]
    },
    {
        id: 12,
        title: 'Entire Albert Supermarket',
        title_cs: 'Cel√Ω supermarket Albert',
        image: 'https://i.imgur.com/80qyQ3M.jpeg',
        price: 12999999,
        originalPrice: 19999999,
        rating: 3.9,
        reviews: '23,456',
        prime: false,
        category: 'impulse',
        badge: 'Real Estate',
        badge_cs: 'Reality',
        description: 'Buy the WHOLE STORE! Homeless guy included.',
        description_cs: 'Kupte si CEL√ù OBCHOD! Bezdomovec v cenƒõ.',
        specs: ['Size: Entire building', 'Hours: 24/7'],
        specs_cs: ['Velikost: Cel√° budova', 'Otev√≠rac√≠ doba: 24/7']
    }
];

        // Payment codes with balances
        const paymentCodes = {
            'RICH': 999999,
            'BROKE': 0,
            'YOLO': 5000,
            '1337': 13370,
            '42': 424242,
            'MONEY': 10000,
            'HELP': 100,
            'PLEASE': 50,
            '1997': 19970,
            '2025': 20250,
            'LUCKY': 7777,
            'WINNER': 50000
        };

        let cart = [];
        let userBalance = 0;
        let currentFilter = 'all';

        // Create product card HTML with actual images
        function createProduct(product) {
            const starsHtml = '‚≠ê'.repeat(Math.floor(product.rating));
            const delay = Math.random() * 0.4;
            
            const isCzech = I18N && I18N.currentLang === 'cs';
            const title = isCzech && product.title_cs ? product.title_cs : product.title;
            const badge = isCzech && product.badge_cs ? product.badge_cs : product.badge;
            
            return `
                <div class="product-card" style="animation-delay: ${delay}s" data-category="${product.category}" data-prime="${product.prime}" onclick="showProductDetail(${product.id})">
                    ${badge ? `<div class="product-badge">${badge}</div>` : ''}
                    <img src="${product.image}" alt="${title}" class="product-image">
                    <div class="product-title">${title}</div>
                    <div class="product-rating">
                        <span class="stars">${starsHtml}</span>
                        <span>${product.rating}</span>
                        <span class="rating-count">(${product.reviews})</span>
                    </div>
                    <div>
                        <span class="product-price">R${product.price}</span>
                        ${product.originalPrice ? `<span class="product-price-small">R${product.originalPrice}</span>` : ''}
                    </div>
                    ${product.prime ? `<div class="prime-badge">${I18N ? I18N.t('amazon_prime_delivery') : '‚ö° prime'}</div>` : ''}
                    <button class="add-to-cart" onclick="event.stopPropagation(); addToCart(${product.id})" data-i18n-key="amazon_add_to_cart">${I18N ? I18N.t('amazon_add_to_cart') : 'Add to Cart'}</button>
                </div>
            `;
        }

        // Show product detail modal
        function showProductDetail(productId) {
            const product = products.find(p => p.id === productId);
            const starsHtml = '‚≠ê'.repeat(Math.floor(product.rating));
            
            const isCzech = I18N && I18N.currentLang === 'cs';
            const title = isCzech && product.title_cs ? product.title_cs : product.title;
            const badge = isCzech && product.badge_cs ? product.badge_cs : product.badge;
            const description = isCzech && product.description_cs ? product.description_cs : product.description;
            const specs = isCzech && product.specs_cs ? product.specs_cs : product.specs;
            
            const detailHTML = `
                <div style="padding: 20px;">
                    <img src="${product.image}" alt="${title}" style="width: 100%; max-height: 400px; object-fit: contain; border-radius: 12px; margin-bottom: 20px;">
                    <h2 style="font-size: 1.8rem; margin-bottom: 12px; color: #0F1111;">${title}</h2>
                    ${badge ? `<div class="product-badge" style="position: relative; display: inline-block; margin-bottom: 16px;">${badge}</div>` : ''}
                    <div class="product-rating" style="margin-bottom: 16px;">
                        <span class="stars">${starsHtml}</span>
                        <span>${product.rating}</span>
                        <span class="rating-count">(${product.reviews} ${I18N ? I18N.t('amazon_reviews') : 'reviews'})</span>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <span class="product-price" style="font-size: 2.2rem;">R${product.price}</span>
                        ${product.originalPrice ? `<span class="product-price-small" style="font-size: 1.2rem;">R${product.originalPrice}</span>` : ''}
                    </div>
                    ${product.prime ? `<div class="prime-badge" style="margin-bottom: 20px;">${I18N ? I18N.t('amazon_prime_delivery') : '‚ö° prime - FREE One-Day Delivery'}</div>` : ''}
                    <div style="background: #f9f9f9; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        <h3 style="font-size: 1.2rem; margin-bottom: 12px; color: #0F1111;">${I18N ? I18N.t('amazon_product_description') : 'Product Description'}</h3>
                        <p style="color: #555; line-height: 1.6;">${description}</p>
                    </div>
                    ${specs ? `
                        <div style="background: #f0f8ff; padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #007185;">
                            <h3 style="font-size: 1.2rem; margin-bottom: 12px; color: #0F1111;">${I18N ? I18N.t('amazon_specifications') : 'Specifications'}</h3>
                            <ul style="list-style: none; padding: 0;">
                                ${specs.map(spec => `<li style="padding: 8px 0; border-bottom: 1px solid #ddd; color: #555;">‚úì ${spec}</li>`).join('')}
                            </ul>
                        </div>
                    ` : ''}
                    <button class="checkout-btn" onclick="event.stopPropagation(); addToCart(${product.id}); closeProductModal();" style="margin-top: 16px;">
                        ${I18N ? I18N.t('amazon_add_to_cart') : 'Add to Cart'} üõí
                    </button>
                </div>
            `;
            
            document.getElementById('product-detail-content').innerHTML = detailHTML;
            document.getElementById('product-modal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Close product detail modal
        function closeProductModal() {
            document.getElementById('product-modal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Show toast notification
        function showToast(message, duration = 3000) {
            const toast = document.getElementById('toast');
            document.getElementById('toast-text').textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), duration);
        }

        // Add to cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            cart.push(product);
            
            const cartElement = document.querySelector('.cart');
            cartElement.classList.add('bounce');
            setTimeout(() => cartElement.classList.remove('bounce'), 500);
            
            document.getElementById('cart-count').innerText = cart.length;
            localStorage.setItem('cart', JSON.stringify(cart));
            
            const isCzech = I18N && I18N.currentLang === 'cs';
            const title = isCzech && product.title_cs ? product.title_cs : product.title;
            
            const messages = isCzech ? [
                `‚ú® P≈ôid√°no "${title}" do ko≈°√≠ku!`,
                `üéâ Skvƒõl√° volba!`,
                `üõçÔ∏è P≈ôid√°no!`
            ] : [
                `‚ú® Added "${title}" to cart!`,
                `üéâ Great choice!`,
                `üõçÔ∏è Added!`
            ];
            showToast(messages[Math.floor(Math.random() * messages.length)]);
        }

        // Toggle cart modal
        function toggleCart() {
            const modal = document.getElementById('cart-modal');
            modal.classList.toggle('active');
            
            if (modal.classList.contains('active')) {
                updateCartDisplay();
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = 'auto';
            }
        }

        // Update cart display
        function updateCartDisplay() {
            const cartItemsDiv = document.getElementById('cart-items');
            
            if (cart.length === 0) {
                const emptyText = I18N ? I18N.t('amazon_cart_empty') : 'Your cart is empty!';
                const emptyDesc = I18N ? I18N.t('amazon_cart_empty_desc') : 'Start adding some amazing items';
                
                cartItemsDiv.innerHTML = `
                    <div class="empty-cart">
                        <div class="empty-cart-icon">üõí</div>
                        <h3>${emptyText}</h3>
                        <p style="margin-top: 12px; color: #666;">${emptyDesc}</p>
                    </div>
                `;
                document.getElementById('cart-total').innerText = '0';
                return;
            }
            
            let total = 0;
            let html = '';
            
            const isCzech = I18N && I18N.currentLang === 'cs';
            const removeText = I18N ? I18N.t('amazon_remove') : 'Remove';
            
            cart.forEach((product, index) => {
                total += product.price;
                const title = isCzech && product.title_cs ? product.title_cs : product.title;
                
                html += `
                    <div class="cart-item">
                        <img src="${product.image}" alt="${title}" class="cart-item-image">
                        <div class="cart-item-details">
                            <div class="cart-item-title">${title}</div>
                            <div class="cart-item-price">R${product.price}</div>
                            ${product.prime ? `<div class="prime-badge" style="margin-top: 8px;">${I18N ? I18N.t('amazon_prime_delivery') : '‚ö° prime'}</div>` : ''}
                        </div>
                        <div class="cart-item-actions">
                            <button class="cart-item-remove" onclick="removeFromCart(${index})">${removeText}</button>
                        </div>
                    </div>
                `;
            });
            
            cartItemsDiv.innerHTML = html;
            document.getElementById('cart-total').innerText = total.toFixed(0);
        }

        // Remove from cart
        function removeFromCart(index) {
            const product = cart[index];
            cart.splice(index, 1);
            document.getElementById('cart-count').innerText = cart.length;
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartDisplay();
            
            const isCzech = I18N && I18N.currentLang === 'cs';
            const title = isCzech && product.title_cs ? product.title_cs : product.title;
            const message = isCzech ? `Odebr√°no "${title}"` : `Removed "${title}"`;
            showToast(message);
        }

        // Proceed to checkout
        function proceedToCheckout() {
            if (cart.length === 0) {
                const message = (I18N && I18N.currentLang === 'cs') ? '‚ö†Ô∏è V√°≈° ko≈°√≠k je pr√°zdn√Ω!' : '‚ö†Ô∏è Your cart is empty!';
                showToast(message);
                return;
            }
            
            document.getElementById('cart-modal').classList.remove('active');
            document.getElementById('payment-modal').classList.add('active');
            document.getElementById('payment-code').focus();
        }

        // Process payment
        function processPayment() {
            const code = document.getElementById('payment-code').value.trim().toUpperCase();
            const errorDiv = document.getElementById('payment-error');
            const total = cart.reduce((sum, product) => sum + product.price, 0);
            const isCzech = I18N && I18N.currentLang === 'cs';
            
            errorDiv.classList.remove('show');
            
            if (!code) {
                errorDiv.textContent = isCzech ? '‚ö†Ô∏è Pros√≠m zadejte platebn√≠ k√≥d!' : '‚ö†Ô∏è Please enter a payment code!';
                errorDiv.classList.add('show');
                return;
            }
            
            if (!paymentCodes.hasOwnProperty(code)) {
                errorDiv.textContent = isCzech ? '‚ùå Neplatn√Ω k√≥d!' : '‚ùå Invalid code!';
                errorDiv.classList.add('show');
                return;
            }
            
            const codeBalance = paymentCodes[code];
            
            if (codeBalance < total) {
                errorDiv.textContent = isCzech ? `üí∏ Nedostatek prost≈ôedk≈Ø!` : `üí∏ Insufficient funds!`;
                errorDiv.classList.add('show');
                return;
            }
            
            // Success!
            userBalance = codeBalance - total;
            document.getElementById('balance').innerText = userBalance.toLocaleString();
            
            // Generate random order number
            const orderNumber = Math.floor(100000 + Math.random() * 900000);
            document.getElementById('order-number').textContent = orderNumber;
            
            document.getElementById('payment-form').style.display = 'none';
            document.getElementById('payment-success').style.display = 'block';
            
            // Clear cart after delay
            setTimeout(() => {
                cart = [];
                document.getElementById('cart-count').innerText = '0';
                localStorage.setItem('cart', JSON.stringify(cart));
            }, 2000);
        }

        // Filter products
        function filterProducts(filter) {
            currentFilter = filter;
            
            // Update active button
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Show/hide products
            document.querySelectorAll('.product-card').forEach(card => {
                const category = card.getAttribute('data-category');
                const isPrime = card.getAttribute('data-prime') === 'true';
                
                if (filter === 'all') {
                    card.style.display = 'block';
                } else if (filter === 'prime') {
                    card.style.display = isPrime ? 'block' : 'none';
                } else {
                    card.style.display = category === filter ? 'block' : 'none';
                }
            });
        }

        // Scroll to products
        function scrollToProducts() {
            document.querySelector('.filters').scrollIntoView({ behavior: 'smooth' });
        }

        // Initialize on page load
        window.addEventListener('DOMContentLoaded', function() {
            console.log('Amazon.za: Page loaded');
            
            // Load cart from localStorage
            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                document.getElementById('cart-count').innerText = cart.length;
            }
            
            // Apply translations
            if (typeof applyTranslations === 'function') {
                applyTranslations();
            }
            
            // Populate products by category
            const essentialProducts = products.filter(p => p.category === 'essential');
            const questionableProducts = products.filter(p => p.category === 'questionable');
            const impulseProducts = products.filter(p => p.category === 'impulse');
            
            document.getElementById('products-essential').innerHTML = essentialProducts.map(createProduct).join('');
            document.getElementById('products-questionable').innerHTML = questionableProducts.map(createProduct).join('');
            document.getElementById('products-impulse').innerHTML = impulseProducts.map(createProduct).join('');
        });

        // Enter key to submit payment
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('payment-code').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    processPayment();
                }
            });
        });

        // Close modals on escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                document.getElementById('cart-modal').classList.remove('active');
                document.getElementById('payment-modal').classList.remove('active');
                document.getElementById('product-modal').classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });

        // Close modal when clicking outside
        document.getElementById('cart-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                toggleCart();
            }
        });

        document.getElementById('payment-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });

        document.getElementById('product-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeProductModal();
            }
        });
    </script>
</body>
</html>