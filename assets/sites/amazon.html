<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon.za - Your Premium Shopping Destination</title>
    
    <!-- Load i18n if available (when opened in HeartOS) -->
    <script>
        // Try to load parent window's I18N if opened in iframe/browser app
        if (window.parent && window.parent.I18N) {
            window.I18N = window.parent.I18N;
            console.log('Loaded parent I18N, current language:', window.I18N.currentLang);
        }
        // Otherwise create minimal i18n stub for standalone use
        if (typeof I18N === 'undefined') {
            window.I18N = {
                currentLang: localStorage.getItem('heartosLang') || 'en',
                translations: { en: {}, cs: {} },
                t: function(key) {
                    const lang = this.translations[this.currentLang];
                    return (lang && lang[key]) || this.translations.en[key] || key;
                }
            };
        }
        
        // Listen for language changes from parent window
        window.addEventListener('message', function(event) {
            if (event.data && event.data.type === 'languageChanged') {
                console.log('Amazon.za: Language changed to:', event.data.lang);
                if (window.I18N) {
                    window.I18N.currentLang = event.data.lang;
                    applyTranslations();
                }
            }
        });
    </script>
    
    <style>
        * { 
            box-sizing: border-box; 
            margin: 0; 
            padding: 0; 
        }
        
        body {
            font-family: 'Amazon Ember', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #eaeded;
            overflow-x: hidden;
        }

        /* HEADER */
        .header {
            background: linear-gradient(180deg, #131921 0%, #1a2332 100%);
            color: #fff;
            padding: 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .header-top {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 12px 24px;
        }

        .logo {
            font-size: 2rem;
            font-weight: bold;
            padding: 8px 16px;
            cursor: pointer;
            transition: transform 0.2s;
            background: linear-gradient(135deg, #ff9900, #ffb84d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo span {
            font-size: 0.7rem;
            vertical-align: super;
        }

        .deliver-to {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 10px 12px;
            cursor: pointer;
            border: 1.5px solid transparent;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .deliver-to:hover {
            border-color: #fff;
            background: rgba(255,255,255,0.05);
        }

        .deliver-icon {
            font-size: 1.2rem;
        }

        .deliver-text {
            font-size: 0.75rem;
            color: #ccc;
        }

        .location {
            font-weight: 700;
            font-size: 0.95rem;
        }

        .search-bar {
            flex: 1;
            display: flex;
            max-width: 900px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            border-radius: 4px;
            overflow: hidden;
        }

        .search-select {
            padding: 12px 16px;
            background: #f3f3f3;
            border: none;
            color: #333;
            font-size: 0.9rem;
            cursor: pointer;
            transition: background 0.2s;
        }

        .search-select:hover {
            background: #e8e8e8;
        }

        .search-input {
            flex: 1;
            padding: 12px 16px;
            border: none;
            outline: none;
            font-size: 0.95rem;
        }

        .search-btn {
            padding: 0 24px;
            background: #febd69;
            border: none;
            cursor: pointer;
            font-size: 1.3rem;
            transition: all 0.2s;
        }

        .search-btn:hover {
            background: #f3a847;
            transform: scale(1.05);
        }

        .header-nav {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-left: auto;
        }

        .nav-item {
            padding: 10px 12px;
            cursor: pointer;
            border: 1.5px solid transparent;
            border-radius: 4px;
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .nav-item:hover {
            border-color: #fff;
            background: rgba(255,255,255,0.05);
        }

        .nav-label {
            font-size: 0.75rem;
            color: #ccc;
        }

        .nav-value {
            font-weight: 700;
            font-size: 0.95rem;
        }

        .cart {
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
            padding: 10px 16px;
        }

        .cart-icon {
            font-size: 1.8rem;
        }

        .cart-count {
            position: absolute;
            top: 2px;
            left: 28px;
            background: linear-gradient(135deg, #ff6b35, #ff9900);
            color: #fff;
            border-radius: 50%;
            min-width: 22px;
            height: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 700;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .balance-display {
            background: linear-gradient(135deg, #146eb4, #1a8cd8);
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 700;
            font-size: 1.1rem;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
            border: 2px solid rgba(255,255,255,0.2);
            transition: all 0.3s;
        }

        .balance-display:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        /* SUB HEADER */
        .sub-header {
            background: #232f3e;
            color: #fff;
            padding: 10px 24px;
            display: flex;
            gap: 24px;
            align-items: center;
            overflow-x: auto;
        }

        .sub-nav-item {
            padding: 6px 12px;
            cursor: pointer;
            white-space: nowrap;
            font-size: 0.9rem;
            transition: all 0.2s;
            border-radius: 4px;
        }

        .sub-nav-item:hover {
            background: rgba(255,255,255,0.1);
            transform: translateY(-1px);
        }

        /* MAIN CONTENT */
        .main {
            max-width: 1600px;
            margin: 0 auto;
            padding: 24px;
        }

        /* HERO BANNER */
        .hero {
            background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            color: #fff;
            padding: 60px 40px;
            border-radius: 12px;
            margin-bottom: 32px;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 24px;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.2);
        }

        .hero-btn {
            background: linear-gradient(135deg, #ff9900, #ffb84d);
            color: #131921;
            border: none;
            padding: 16px 40px;
            font-size: 1.1rem;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(255,153,0,0.4);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .hero-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 6px 25px rgba(255,153,0,0.6);
        }

        .hero-btn:active {
            transform: translateY(-1px) scale(1.02);
        }

        /* FILTERS */
        .filters {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 10px 20px;
            background: #fff;
            border: 2px solid #ddd;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.2s;
        }

        .filter-btn:hover {
            border-color: #ff9900;
            color: #ff9900;
            transform: translateY(-2px);
        }

        .filter-btn.active {
            background: #ff9900;
            color: #fff;
            border-color: #ff9900;
        }

        /* PRODUCT GRID */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 32px 0 20px;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #131921;
        }

        .view-all {
            color: #007185;
            font-size: 0.95rem;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .view-all:hover {
            color: #ff9900;
            text-decoration: underline;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 48px;
        }

        .product-card {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            animation: fadeInUp 0.5s forwards;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            position: relative;
            overflow: hidden;
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff9900, #ffb84d);
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .product-card:hover::before {
            transform: scaleX(1);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 32px rgba(0,0,0,0.15);
        }

        .product-badge {
            position: absolute;
            top: 16px;
            right: 16px;
            background: linear-gradient(135deg, #ff6b35, #ff9900);
            color: #fff;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 8px rgba(255,107,53,0.4);
        }

        .product-image {
            width: 100%;
            aspect-ratio: 1;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 16px;
            background: #f9f9f9;
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .product-card:hover .product-image {
            transform: scale(1.08) rotate(2deg);
        }

        .product-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 10px;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            color: #0F1111;
            min-height: 48px;
            line-height: 1.4;
        }

        .product-rating {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
            font-size: 0.875rem;
        }

        .stars {
            color: #ff9900;
            letter-spacing: 2px;
        }

        .rating-count {
            color: #007185;
            font-weight: 600;
        }

        .product-price {
            font-size: 1.6rem;
            font-weight: 700;
            color: #B12704;
            margin-bottom: 6px;
        }

        .product-price-small {
            font-size: 0.85rem;
            color: #565959;
            text-decoration: line-through;
            margin-left: 8px;
        }

        .prime-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: #00a8e1;
            color: #fff;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .add-to-cart {
            width: 100%;
            background: linear-gradient(180deg, #f7dfa5, #ffd814);
            border: 1px solid #fcd200;
            border-radius: 8px;
            padding: 10px 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-size: 0.95rem;
        }

        .add-to-cart:hover {
            background: linear-gradient(180deg, #f7ca00, #f0c14b);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .add-to-cart:active {
            transform: translateY(0);
        }

        /* TOAST NOTIFICATION */
        .toast {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: linear-gradient(135deg, #28a745, #34ce57);
            color: #fff;
            padding: 16px 24px;
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.3);
            transform: translateX(400px);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 600;
        }

        .toast.show {
            transform: translateX(0);
        }

        /* CART MODAL */
        .cart-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.75);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(4px);
        }

        .cart-modal.active {
            display: flex;
            animation: fadeIn 0.2s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .cart-content {
            background: #fff;
            padding: 0;
            border-radius: 16px;
            max-width: 700px;
            width: 92%;
            max-height: 85vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(50px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        .cart-header {
            padding: 24px 32px;
            border-bottom: 2px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(180deg, #fff, #f9f9f9);
        }

        .cart-header h2 {
            font-size: 1.8rem;
            color: #131921;
        }

        .cart-items-container {
            flex: 1;
            overflow-y: auto;
            padding: 24px 32px;
        }

        .cart-item {
            display: flex;
            gap: 20px;
            padding: 20px 0;
            border-bottom: 1px solid #e7e7e7;
            transition: background 0.2s;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 8px;
        }

        .cart-item:hover {
            background: #f9f9f9;
        }

        .cart-item-image {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-title {
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 1rem;
            color: #0F1111;
        }

        .cart-item-price {
            color: #B12704;
            font-weight: 700;
            font-size: 1.2rem;
        }

        .cart-item-actions {
            display: flex;
            flex-direction: column;
            gap: 8px;
            justify-content: center;
        }

        .cart-item-remove {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: #fff;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 600;
            transition: all 0.2s;
            box-shadow: 0 2px 6px rgba(220,53,69,0.3);
        }

        .cart-item-remove:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(220,53,69,0.4);
        }

        .cart-footer {
            padding: 24px 32px;
            background: #f9f9f9;
            border-top: 2px solid #e7e7e7;
        }

        .cart-total {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 20px;
            text-align: right;
            color: #B12704;
        }

        .checkout-btn {
            width: 100%;
            background: linear-gradient(135deg, #ff9900, #ffb84d);
            color: #fff;
            border: none;
            padding: 18px;
            font-size: 1.2rem;
            font-weight: 700;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(255,153,0,0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .checkout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255,153,0,0.5);
        }

        .checkout-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .close-cart {
            font-size: 2rem;
            cursor: pointer;
            color: #666;
            transition: all 0.2s;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .close-cart:hover {
            background: #f0f0f0;
            color: #000;
            transform: rotate(90deg);
        }

        .empty-cart {
            text-align: center;
            padding: 60px 32px;
            color: #666;
        }

        .empty-cart-icon {
            font-size: 5rem;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        /* PAYMENT MODAL */
        .payment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.75);
            z-index: 1001;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(4px);
        }

        .payment-modal.active {
            display: flex;
            animation: fadeIn 0.2s;
        }

        .payment-content {
            background: #fff;
            padding: 40px;
            border-radius: 16px;
            max-width: 550px;
            width: 92%;
            animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .payment-header {
            text-align: center;
            margin-bottom: 24px;
        }

        .payment-header h2 {
            font-size: 2rem;
            color: #131921;
            margin-bottom: 8px;
        }

        .code-hint {
            text-align: center;
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .code-examples {
            background: #f9f9f9;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #ff9900;
        }

        .code-examples p {
            font-size: 0.85rem;
            color: #555;
            margin-bottom: 4px;
        }

        .code-input {
            width: 100%;
            padding: 20px;
            font-size: 1.8rem;
            text-align: center;
            border: 3px solid #ddd;
            border-radius: 12px;
            margin: 20px 0;
            letter-spacing: 4px;
            text-transform: uppercase;
            font-weight: 700;
            transition: all 0.2s;
        }

        .code-input:focus {
            outline: none;
            border-color: #ff9900;
            box-shadow: 0 0 0 4px rgba(255,153,0,0.1);
        }

        .pay-btn {
            width: 100%;
            background: linear-gradient(135deg, #28a745, #34ce57);
            color: #fff;
            border: none;
            padding: 18px;
            font-size: 1.2rem;
            font-weight: 700;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(40,167,69,0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .pay-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(40,167,69,0.5);
        }

        .payment-error {
            color: #dc3545;
            text-align: center;
            margin-top: 16px;
            font-weight: 600;
            padding: 12px;
            background: #f8d7da;
            border-radius: 8px;
            display: none;
        }

        .payment-error.show {
            display: block;
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .payment-success {
            text-align: center;
            padding: 40px;
        }

        .success-icon {
            font-size: 5rem;
            margin-bottom: 20px;
            animation: scaleIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes scaleIn {
            from {
                transform: scale(0);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .payment-success h2 {
            color: #28a745;
            font-size: 2.2rem;
            margin-bottom: 16px;
        }

        .payment-success p {
            font-size: 1.1rem;
            margin: 12px 0;
            color: #555;
        }

        .footer {
            background: linear-gradient(180deg, #232f3e, #131921);
            color: #ddd;
            padding: 48px 24px;
            margin-top: 60px;
            text-align: center;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer p {
            margin: 8px 0;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .footer-link {
            color: #ddd;
            text-decoration: none;
            transition: color 0.2s;
        }

        .footer-link:hover {
            color: #ff9900;
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .cart.bounce .cart-icon {
            animation: bounce 0.5s;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .header-top {
                flex-wrap: wrap;
                gap: 12px;
            }

            .search-bar {
                order: 3;
                width: 100%;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .product-grid {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
                gap: 12px;
            }

            .section-title {
                font-size: 1.4rem;
            }
        }
    </style>
</head>
<body>
    <!-- TOAST NOTIFICATION -->
    <div class="toast" id="toast">
        <span id="toast-text"></span>
    </div>

    <!-- HEADER -->
    <div class="header">
        <div class="header-top">
            <div class="logo">amazon<span>.za</span></div>
            
            <div class="deliver-to">
                <div class="deliver-icon">üìç</div>
                <div>
                    <div class="deliver-text" data-i18n-key="amazon_deliver_to">Deliver to</div>
                    <div class="location">Cape Town</div>
                </div>
            </div>

            <div class="search-bar">
                <select class="search-select">
                    <option data-i18n-key="amazon_all_categories">All Categories</option>
                    <option>Absolutely Useless</option>
                    <option>Questionable Choices</option>
                    <option>Why Though?</option>
                    <option>Impulse Territory</option>
                </select>
                <input type="text" class="search-input" data-i18n-key-placeholder="amazon_search_placeholder" placeholder="Search for amazing deals...">
                <button class="search-btn">üîç</button>
            </div>

            <div class="header-nav">
                <div class="balance-display">
                    üí∞ R<span id="balance">0</span>
                </div>

                <div class="nav-item cart" onclick="toggleCart()">
                    <div class="cart-count" id="cart-count">0</div>
                    <div class="cart-icon">üõí</div>
                    <div class="nav-value" data-i18n-key="amazon_cart">Cart</div>
                </div>
            </div>
        </div>
    </div>

    <!-- SUB HEADER -->
    <div class="sub-header">
        <div class="sub-nav-item" data-i18n-key="amazon_all_categories">‚ò∞ All Categories</div>
        <div class="sub-nav-item" data-i18n-key="amazon_todays_deals">üî• Today's Deals</div>
        <div class="sub-nav-item" data-i18n-key="amazon_gift_ideas">üéÅ Gift Ideas</div>
        <div class="sub-nav-item" data-i18n-key="amazon_flash_sale">‚ö° Flash Sale</div>
        <div class="sub-nav-item" data-i18n-key="amazon_gift_cards">üí≥ Gift Cards</div>
        <div class="sub-nav-item" data-i18n-key="amazon_track_order">üì¶ Track Order</div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="main">
        <!-- HERO -->
        <div class="hero">
            <div class="hero-content">
                <h1 data-i18n-key="amazon_hero_title">Welcome to Shopping Paradise! üéä</h1>
                <p data-i18n-key="amazon_hero_subtitle">Discover amazing products you absolutely need (or maybe don't)</p>
                <button class="hero-btn" onclick="scrollToProducts()" data-i18n-key="amazon_explore_deals">Explore Deals</button>
            </div>
        </div>

        <!-- FILTERS -->
        <div class="filters">
            <button class="filter-btn active" onclick="filterProducts('all')" data-i18n-key="amazon_all_products">All Products</button>
            <button class="filter-btn" onclick="filterProducts('essential')" data-i18n-key="amazon_essential_items">Essential Items</button>
            <button class="filter-btn" onclick="filterProducts('questionable')" data-i18n-key="amazon_questionable">Questionable</button>
            <button class="filter-btn" onclick="filterProducts('impulse')" data-i18n-key="amazon_impulse_buys">Impulse Buys</button>
            <button class="filter-btn" onclick="filterProducts('prime')" data-i18n-key="amazon_prime_only">Prime Only</button>
        </div>

        <!-- PRODUCTS SECTION 1 -->
        <div class="section-header">
            <h2 class="section-title" data-i18n-key="amazon_essential_title">‚ú® Absolutely Essential Items</h2>
            <span class="view-all" data-i18n-key="amazon_view_all">View All ‚Üí</span>
        </div>
        <div class="product-grid" id="products-essential"></div>

        <!-- PRODUCTS SECTION 2 -->
        <div class="section-header">
            <h2 class="section-title" data-i18n-key="amazon_questionable_title">ü§î Questionable Choices</h2>
            <span class="view-all" data-i18n-key="amazon_view_all">View All ‚Üí</span>
        </div>
        <div class="product-grid" id="products-questionable"></div>

        <!-- PRODUCTS SECTION 3 -->
        <div class="section-header">
            <h2 class="section-title" data-i18n-key="amazon_impulse_title">üòà Impulse Buy Zone</h2>
            <span class="view-all" data-i18n-key="amazon_view_all">View All ‚Üí</span>
        </div>
        <div class="product-grid" id="products-impulse"></div>
    </div>

    <!-- CART MODAL -->
    <div class="cart-modal" id="cart-modal">
        <div class="cart-content">
            <div class="cart-header">
                <h2 data-i18n-key="amazon_shopping_cart">Shopping Cart üõí</h2>
                <span class="close-cart" onclick="toggleCart()">&times;</span>
            </div>
            <div class="cart-items-container" id="cart-items"></div>
            <div class="cart-footer">
                <div class="cart-total"><span data-i18n-key="amazon_total">Total</span>: R<span id="cart-total">0</span></div>
                <button class="checkout-btn" onclick="proceedToCheckout()" data-i18n-key="amazon_checkout">Proceed to Checkout üí≥</button>
            </div>
        </div>
    </div>

    <!-- PAYMENT MODAL -->
    <div class="payment-modal" id="payment-modal">
        <div class="payment-content">
            <div id="payment-form">
                <div class="payment-header">
                    <h2 data-i18n-key="amazon_secure_checkout">Secure Checkout üîí</h2>
                </div>
                <div class="code-hint" data-i18n-key="amazon_code_hint">Enter your special payment code to complete the purchase</div>
                <div class="code-examples">
                    <p><strong data-i18n-key="amazon_try_codes">üí° Try these codes:</strong></p>
                    <p>RICH ‚Ä¢ YOLO ‚Ä¢ 42 ‚Ä¢ MONEY ‚Ä¢ 1997 ‚Ä¢ 2025</p>
                </div>
                <input type="text" class="code-input" id="payment-code" data-i18n-key-placeholder="amazon_enter_code" placeholder="Enter Code" maxlength="10">
                <button class="pay-btn" onclick="processPayment()" data-i18n-key="amazon_complete_payment">Complete Payment üí∞</button>
                <div class="payment-error" id="payment-error"></div>
            </div>
            <div id="payment-success" class="payment-success" style="display: none;">
                <div class="success-icon">üéâ</div>
                <h2 data-i18n-key="amazon_payment_success">Payment Successful!</h2>
                <p data-i18n-key="amazon_order_confirmed">Your order has been confirmed</p>
                <p style="color: #666; font-size: 0.95rem; margin-top: 16px;"><span data-i18n-key="amazon_order_number">Order #AMZ-</span><span id="order-number"></span></p>
                <p style="color: #666; font-size: 0.9rem;" data-i18n-key="amazon_delivery">Estimated delivery: 3-5 business days üì¶</p>
                <button class="checkout-btn" onclick="location.reload()" style="margin-top: 32px;" data-i18n-key="amazon_continue_shopping">Continue Shopping</button>
            </div>
        </div>
    </div>

    <!-- PRODUCT DETAIL MODAL -->
    <div class="payment-modal" id="product-modal">
        <div class="payment-content" style="max-width: 800px; max-height: 90vh; overflow-y: auto;">
            <span class="close-cart" onclick="closeProductModal()" style="position: absolute; top: 16px; right: 16px; z-index: 10;">&times;</span>
            <div id="product-detail-content"></div>
        </div>
    </div>

    <div class="footer">
        <div class="footer-content">
            <p style="font-size: 1.2rem; font-weight: bold; margin-bottom: 16px;">amazon.za</p>
            <div class="footer-links">
                <a href="#" class="footer-link">About Us</a>
                <a href="#" class="footer-link">Help Center</a>
                <a href="#" class="footer-link">Returns</a>
                <a href="#" class="footer-link">Careers</a>
                <a href="#" class="footer-link">Privacy</a>
                <a href="#" class="footer-link">Terms</a>
            </div>
            <p style="margin-top: 24px; font-size: 0.9rem;" data-i18n-key="amazon_footer_tagline">¬© 2025 Amazon.za - Your Premier Shopping Destination</p>
            <p style="margin-top: 8px; font-size: 0.85rem; color: #999;" data-i18n-key="amazon_footer_trust">Shop with confidence ‚Ä¢ Fast delivery ‚Ä¢ Secure payments</p>
        </div>
    </div>

    <script>
        // Add Czech translations to I18N if it exists
        if (typeof I18N !== 'undefined') {
            // English translations
            Object.assign(I18N.translations.en, {
                amazon_deliver_to: 'Deliver to',
                amazon_search_placeholder: 'Search for amazing deals...',
                amazon_cart: 'Cart',
                amazon_all_categories: 'All Categories',
                amazon_todays_deals: "Today's Deals",
                amazon_gift_ideas: 'Gift Ideas',
                amazon_flash_sale: 'Flash Sale',
                amazon_gift_cards: 'Gift Cards',
                amazon_track_order: 'Track Order',
                amazon_hero_title: 'Welcome to Shopping Paradise! üéä',
                amazon_hero_subtitle: 'Discover amazing products you absolutely need (or maybe don\'t)',
                amazon_explore_deals: 'Explore Deals',
                amazon_all_products: 'All Products',
                amazon_essential_items: 'Essential Items',
                amazon_questionable: 'Questionable',
                amazon_impulse_buys: 'Impulse Buys',
                amazon_prime_only: 'Prime Only',
                amazon_essential_title: '‚ú® Absolutely Essential Items',
                amazon_questionable_title: 'ü§î Questionable Choices',
                amazon_impulse_title: 'üòà Impulse Buy Zone',
                amazon_view_all: 'View All ‚Üí',
                amazon_shopping_cart: 'Shopping Cart üõí',
                amazon_cart_empty: 'Your cart is empty!',
                amazon_cart_empty_desc: 'Start adding some amazing items',
                amazon_total: 'Total',
                amazon_checkout: 'Proceed to Checkout üí≥',
                amazon_secure_checkout: 'Secure Checkout üîí',
                amazon_code_hint: 'Enter your special payment code to complete the purchase',
                amazon_try_codes: 'üí° Try these codes:',
                amazon_enter_code: 'Enter Code',
                amazon_complete_payment: 'Complete Payment üí∞',
                amazon_payment_success: 'Payment Successful!',
                amazon_order_confirmed: 'Your order has been confirmed',
                amazon_order_number: 'Order #AMZ-',
                amazon_delivery: 'Estimated delivery: 3-5 business days üì¶',
                amazon_continue_shopping: 'Continue Shopping',
                amazon_add_to_cart: 'Add to Cart',
                amazon_remove: 'Remove',
                amazon_product_description: 'Product Description',
                amazon_specifications: 'Technical Specifications',
                amazon_prime_delivery: '‚ö° prime - FREE One-Day Delivery',
                amazon_reviews: 'reviews',
                amazon_footer_tagline: '¬© 2025 Amazon.za - Your Premier Shopping Destination',
                amazon_footer_trust: 'Shop with confidence ‚Ä¢ Fast delivery ‚Ä¢ Secure payments'
            });

            // Czech translations
            Object.assign(I18N.translations.cs, {
                amazon_deliver_to: 'Doruƒçit do',
                amazon_search_placeholder: 'Hledat skvƒõl√© nab√≠dky...',
                amazon_cart: 'Ko≈°√≠k',
                amazon_all_categories: 'V≈°echny kategorie',
                amazon_todays_deals: 'Dne≈°n√≠ nab√≠dky',
                amazon_gift_ideas: 'D√°rkov√© n√°pady',
                amazon_flash_sale: 'Bleskov√Ω v√Ωprodej',
                amazon_gift_cards: 'D√°rkov√© karty',
                amazon_track_order: 'Sledovat objedn√°vku',
                amazon_hero_title: 'V√≠tejte v n√°kupn√≠m r√°ji! üéä',
                amazon_hero_subtitle: 'Objevte √∫≈æasn√© produkty, kter√© absolutnƒõ pot≈ôebujete (nebo mo≈æn√° ne)',
                amazon_explore_deals: 'Prozkoumat nab√≠dky',
                amazon_all_products: 'V≈°echny produkty',
                amazon_essential_items: 'Nezbytn√© polo≈æky',
                amazon_questionable: 'Pochybn√©',
                amazon_impulse_buys: 'Impulzivn√≠ n√°kupy',
                amazon_prime_only: 'Pouze Prime',
                amazon_essential_title: '‚ú® Absolutnƒõ nezbytn√© polo≈æky',
                amazon_questionable_title: 'ü§î Pochybn√© volby',
                amazon_impulse_title: 'üòà Z√≥na impulzivn√≠ch n√°kup≈Ø',
                amazon_view_all: 'Zobrazit v≈°e ‚Üí',
                amazon_shopping_cart: 'N√°kupn√≠ ko≈°√≠k üõí',
                amazon_cart_empty: 'V√°≈° ko≈°√≠k je pr√°zdn√Ω!',
                amazon_cart_empty_desc: 'Zaƒçnƒõte p≈ôid√°vat √∫≈æasn√© polo≈æky',
                amazon_total: 'Celkem',
                amazon_checkout: 'P≈ôej√≠t k pokladnƒõ üí≥',
                amazon_secure_checkout: 'Zabezpeƒçen√° pokladna üîí',
                amazon_code_hint: 'Zadejte sv≈Øj speci√°ln√≠ platebn√≠ k√≥d pro dokonƒçen√≠ n√°kupu',
                amazon_try_codes: 'üí° Zkuste tyto k√≥dy:',
                amazon_enter_code: 'Zadat k√≥d',
                amazon_complete_payment: 'Dokonƒçit platbu üí∞',
                amazon_payment_success: 'Platba √∫spƒõ≈°n√°!',
                amazon_order_confirmed: 'Va≈°e objedn√°vka byla potvrzena',
                amazon_order_number: 'Objedn√°vka #AMZ-',
                amazon_delivery: 'Odhadovan√© doruƒçen√≠: 3-5 pracovn√≠ch dn≈Ø üì¶',
                amazon_continue_shopping: 'Pokraƒçovat v n√°kupu',
                amazon_add_to_cart: 'P≈ôidat do ko≈°√≠ku',
                amazon_remove: 'Odebrat',
                amazon_product_description: 'Popis produktu',
                amazon_specifications: 'Technick√© specifikace',
                amazon_prime_delivery: '‚ö° prime - ZDARMA doruƒçen√≠ dal≈°√≠ den',
                amazon_reviews: 'recenz√≠',
                amazon_footer_tagline: '¬© 2025 Amazon.za - Va≈°e pr√©miov√° n√°kupn√≠ destinace',
                amazon_footer_trust: 'Nakupujte s d≈Øvƒõrou ‚Ä¢ Rychl√© doruƒçen√≠ ‚Ä¢ Zabezpeƒçen√© platby'
            });
        }

        // Function to apply translations to all elements
        function applyTranslations() {
            console.log('Applying translations, current language:', I18N.currentLang);
            
            // Translate all elements with data-i18n-key
            document.querySelectorAll('[data-i18n-key]').forEach(element => {
                const key = element.getAttribute('data-i18n-key');
                const translation = I18N.t(key);
                element.textContent = translation;
            });
            
            // Translate placeholders
            document.querySelectorAll('[data-i18n-key-placeholder]').forEach(element => {
                const key = element.getAttribute('data-i18n-key-placeholder');
                const translation = I18N.t(key);
                element.placeholder = translation;
            });
            
            // Update product titles and descriptions based on language
            updateProductLanguage();
            
            // Re-render products with current language
            const essentialProducts = products.filter(p => p.category === 'essential');
            const questionableProducts = products.filter(p => p.category === 'questionable');
            const impulseProducts = products.filter(p => p.category === 'impulse');
            
            document.getElementById('products-essential').innerHTML = essentialProducts.map(createProduct).join('');
            document.getElementById('products-questionable').innerHTML = questionableProducts.map(createProduct).join('');
            document.getElementById('products-impulse').innerHTML = impulseProducts.map(createProduct).join('');
            
            // Update cart display if open
            if (document.getElementById('cart-modal').classList.contains('active')) {
                updateCartDisplay();
            }
        }
        
        function updateProductLanguage() {
            // This will be called when language changes
            console.log('Updating product language to:', I18N.currentLang);
        }

        // Enhanced product database with Czech translations
        const products = [
    {
        id: 1,
        title: 'Psychopath Security Guard - Blonde Czech Edition',
        title_cs: 'Psychopatick√° bezpeƒçnostn√≠ hl√≠dka - Blond ƒçesk√° edice',
        image: '../images/products/psychopath.jpg',
        price: 1499,
        originalPrice: 2999,
        rating: 2.3,
        reviews: '666',
        prime: false,
        category: 'questionable',
        badge: '‚ö†Ô∏è Danger',
        badge_cs: '‚ö†Ô∏è Nebezpeƒç√≠',
        description: 'Hire this crazy white Czech girl who will chase intruders around at night with a glow stick! Acts like security but mostly just terrifies everyone. Highly effective but also highly unhinged. Not responsible for psychological damage to trespassers.',
        description_cs: 'Najmƒõte si tuto ≈°√≠lenou b√≠lou ƒçeskou holku, kter√° bude pron√°sledovat naru≈°itele v noci s fluorescenƒçn√≠ tyƒç√≠! Chov√° se jako ostraha, ale vƒõt≈°inou jen v≈°echny terorizuje. Vysoce √∫ƒçinn√°, ale tak√© vysoce nep≈ô√≠ƒçetn√°. Neruƒç√≠me za psychick√© ≈°kody vet≈ôelc≈Ø.',
        specs: ['Nationality: Czech', 'Hair: Blonde', 'Sanity level: Questionable', 'Chase speed: Terrifying', 'Glow stick included: Yes', 'Background check: Failed'],
        specs_cs: ['N√°rodnost: ƒåesk√°', 'Vlasy: Blond', '√örove≈à p≈ô√≠ƒçetnosti: Pochybn√°', 'Rychlost pron√°sledov√°n√≠: Dƒõsiv√°', 'Fluorescenƒçn√≠ tyƒç: Zahrnuto', 'Provƒõrka: Nepro≈°la']
    },
    {
        id: 2,
        title: 'Mogu Mogu Lychee Drink - Exotic Refreshment',
        title_cs: 'Mogu Mogu s p≈ô√≠chut√≠ liƒçi - Exotick√© osvƒõ≈æen√≠',
        image: '../images/products/mogumogu.jpg',
        price: 45,
        originalPrice: 89,
        rating: 4.7,
        reviews: '12,847',
        prime: true,
        category: 'essential',
        badge: 'Refreshing',
        badge_cs: 'Osvƒõ≈æuj√≠c√≠',
        description: 'A delicious lychee juice drink! Sweet, refreshing, and comes with those weird chewy bits that nobody asked for but everyone secretly loves. Perfect for pretending you\'re cultured.',
        description_cs: 'Lahodn√Ω n√°poj s liƒçi d≈æusem! Sladk√Ω, osvƒõ≈æuj√≠c√≠ a s tƒõmi divn√Ωmi ≈æv√Ωkac√≠mi kousky, o kter√© se nikdo neprosil, ale v≈°ichni je tajnƒõ miluj√≠. Ide√°ln√≠ pro p≈ôedst√≠r√°n√≠, ≈æe jste svƒõtov√≠.',
        specs: ['Volume: 320ml', 'Flavor: Lychee', 'Weird bits: Included', 'Cultural points: +50', 'Pronunciation difficulty: Medium'],
        specs_cs: ['Objem: 320ml', 'P≈ô√≠chu≈•: Liƒçi', 'Divn√© kousky: Zahrnuto', 'Kulturn√≠ body: +50', 'Obt√≠≈ænost v√Ωslovnosti: St≈ôedn√≠']
    },
    {
        id: 3,
        title: 'Emotional Support Donuts - For Baby Adults',
        title_cs: 'Koblihy pro emocion√°ln√≠ podporu - Pro dospƒõl√° mimina',
        image: '../images/products/donuts.jpg',
        price: 399,
        originalPrice: 649,
        rating: 5.0,
        reviews: '23,456',
        prime: true,
        category: 'essential',
        badge: 'Therapy',
        badge_cs: 'Terapie',
        description: 'Because adulting is hard and you need plush donuts to cope. These soft, squeezable emotional support donuts are here for baby adults who can\'t handle life. No judgment, just sprinkles and comfort.',
        description_cs: 'Proto≈æe dospƒõlost je tƒõ≈æk√° a vy pot≈ôebujete ply≈°ov√© koblihy, abyste to zvl√°dli. Tyto mƒõkk√©, maƒçkac√≠ koblihy pro emocion√°ln√≠ podporu jsou tu pro dospƒõl√° mimina, kter√° ned√°vaj√≠ ≈æivot. ≈Ω√°dn√© odsuzov√°n√≠, jen posypka a pohodl√≠.',
        specs: ['Target audience: Baby adults', 'Emotional support: Unlimited', 'Judgment: None', 'Calories: 0 (they\'re plush)', 'Comes with: Sunglasses donut for cool points'],
        specs_cs: ['C√≠lovka: Dospƒõl√° mimina', 'Emoƒçn√≠ podpora: Neomezen√°', 'Odsuzov√°n√≠: ≈Ω√°dn√©', 'Kalorie: 0 (jsou ply≈°ov√©)', 'Obsahuje: Koblihu se sluneƒçn√≠mi br√Ωlemi pro styl']
    },
    {
        id: 4,
        title: 'Black Bonnet - Satin Sleep Cap',
        title_cs: 'ƒåern√Ω ƒçepec - Sat√©nov√° ƒçepice na span√≠',
        image: '../images/products/bonnet.jpg',
        price: 149,
        originalPrice: 249,
        rating: 4.6,
        reviews: '8,765',
        prime: true,
        category: 'essential',
        badge: 'Beauty Sleep',
        badge_cs: 'Sp√°nek kr√°sy',
        description: 'A simple black bonnet for protecting your hair while you sleep. Wake up looking less like you fought a tornado. Satin material keeps your hair smooth and your life together (kind of).',
        description_cs: 'Jednoduch√Ω ƒçern√Ω ƒçepec na ochranu vlas≈Ø bƒõhem sp√°nku. Probuƒète se a vypadejte m√©nƒõ jako po bitvƒõ s torn√°dem. Sat√©n udr≈æ√≠ va≈°e vlasy hladk√© a v√°≈° ≈æivot pohromadƒõ (tak nƒõjak).',
        specs: ['Color: Black', 'Material: Satin', 'Hair protection: Maximum', 'Morning disasters: Prevented', 'Looking fancy: Guaranteed'],
        specs_cs: ['Barva: ƒåern√°', 'Materi√°l: Sat√©n', 'Ochrana vlas≈Ø: Maxim√°ln√≠', 'Rann√≠ katastrofy: Odvr√°ceny', 'Elegantn√≠ vzhled: Zaruƒçen']
    },
    {
        id: 5,
        title: 'Brand New TV - 100% Works, Definitely Not Broken',
        title_cs: '√öplnƒõ nov√° TV - 100% funguje, rozhodnƒõ nen√≠ rozbit√°',
        image: '../images/products/fixedtv.jpg',
        price: 3999,
        originalPrice: 6999,
        rating: 4.9,
        reviews: '15,234',
        prime: true,
        category: 'essential',
        badge: '‚úÖ Certified',
        badge_cs: '‚úÖ Certifikov√°no',
        description: 'This TV is BRAND NEW and 100% FULLY FUNCTIONAL! It definitely works and is absolutely not broken in any way. The screen turns on and everything! Why would we lie? Trust us completely!',
        description_cs: 'Tato televize je √öPLNƒö NOV√Å a 100% PLNƒö FUNKƒåN√ç! Fakt funguje a rozhodnƒõ nen√≠ nijak rozbit√°. Obrazovka se norm√°lnƒõ zapne a tak! Proƒç bychom lhali? Tot√°lnƒõ n√°m vƒõ≈ôte!',
        specs: ['Condition: Brand new (we promise)', 'Screen status: Working perfectly', 'Trustworthiness: 110%', 'Previous repairs: None whatsoever', 'Warranty: Uh... about that...'],
        specs_cs: ['Stav: √öplnƒõ nov√° (slibujeme)', 'Stav obrazovky: Funguje perfektnƒõ', 'D≈Øvƒõryhodnost: 110%', 'P≈ôedchoz√≠ opravy: V≈Øbec ≈æ√°dn√©', 'Z√°ruka: No... o tom potom...']
    },
    {
        id: 6,
        title: 'Glow-in-the-Dark Bear - Geometric Light-Up Friend',
        title_cs: 'Sv√≠t√≠c√≠ medvƒõd - Geometrick√Ω svƒõteln√Ω k√°mo≈°',
        image: '../images/products/glowbear.jpg',
        price: 599,
        originalPrice: 999,
        rating: 4.8,
        reviews: '9,234',
        prime: true,
        category: 'essential',
        badge: 'Glows!',
        badge_cs: 'Sv√≠t√≠!',
        description: 'A bear that glows in the dark! This geometric LED bear will light up your room with rainbow RGB vibes. Perfect for people who think regular teddy bears are too boring and need more cyberpunk in their lives.',
        description_cs: 'Medvƒõd, co sv√≠t√≠ ve tmƒõ! Tento geometrick√Ω LED m√©ƒèa rozz√°≈ô√≠ v√°≈° pokoj duhov√Ωmi RGB barvami. Ide√°ln√≠ pro lidi, kter√Ωm p≈ôijdou norm√°ln√≠ ply≈°√°ci nudn√≠ a pot≈ôebuj√≠ v ≈æivotƒõ v√≠c cyberpunku.',
        specs: ['Glows: Yes, obviously', 'RGB modes: All of them', 'Geometric: Very', 'Bear-shaped: Technically', 'Electricity required: Yes', 'Aesthetic level: Maximum'],
        specs_cs: ['Sv√≠t√≠: Ano, oƒçividnƒõ', 'RGB re≈æimy: V≈°echny', 'Geometrick√Ω: Velmi', 'Tvar medvƒõda: Technicky vzato ano', 'Vy≈æaduje elekt≈ôinu: Ano', '√örove≈à estetiky: Maxim√°ln√≠']
    },
    {
        id: 7,
        title: '2 Chihuahua Puppies - Tiny Dogs Available Now!',
        title_cs: '2 ≈°tƒõ≈àata ƒçivavy - Malinc√≠ psi k m√°n√≠!',
        image: '../images/products/pups.jpg',
        price: 8999,
        originalPrice: 12999,
        rating: 5.0,
        reviews: '3,456',
        prime: false,
        category: 'questionable',
        badge: 'üêï Live',
        badge_cs: 'üêï ≈Ωiv√©',
        description: 'Two adorable chihuahua puppies for sale! Currently tiny potatoes wrapped in a pink blanket. Will eventually grow into professional ankle biters. Extreme cuteness warning! Handle with care.',
        description_cs: 'Dvƒõ roztomil√° ≈°tƒõ≈à√°tka ƒçivavy na prodej! Moment√°lnƒõ jsou to jen mal√© brambory zabalen√© v r≈Ø≈æov√© dece. ƒåasem z nich vyrostou profesion√°ln√≠ kousaƒçi kotn√≠k≈Ø. Varov√°n√≠: Extr√©mn√≠ roztomilost! Zach√°zejte opatrnƒõ.',
        specs: ['Quantity: 2 puppies', 'Current size: Potato', 'Future size: Still small', 'Bark volume: TBD but probably loud', 'Blanket: Pink (included)', 'Cuteness: Lethal levels'],
        specs_cs: ['Mno≈æstv√≠: 2 ≈°tƒõ≈àata', 'Aktu√°ln√≠ velikost: Brambora', 'Budouc√≠ velikost: Po≈ô√°d mal√°', 'Hlasitost ≈°tƒõkotu: Uvid√≠me, ale asi dost', 'Deka: R≈Ø≈æov√° (v cenƒõ)', 'Roztomilost: Smrt√≠c√≠ √∫rove≈à']
    },
    {
        id: 8,
        title: 'Plane Ticket to Cape Town - One Way Trip',
        title_cs: 'Letenka do Kapsk√©ho Mƒõsta - Jednosmƒõrn√° cesta',
        image: '../images/products/ticket.jpg',
        price: 4299,
        originalPrice: 5999,
        rating: 3.8,
        reviews: '8,765',
        prime: false,
        category: 'questionable',
        badge: '‚úàÔ∏è Travel',
        badge_cs: '‚úàÔ∏è Cestov√°n√≠',
        description: 'One plane ticket to Cape Town! Escape to South Africa and never look back. Warning: This is economy class, seat 32K. You\'ll be sitting between two strangers for hours. Good luck!',
        description_cs: 'Jedna letenka do Kapsk√©ho Mƒõsta! Uteƒçte do Ji≈æn√≠ Afriky a u≈æ se neohl√≠≈æejte. Varov√°n√≠: Tohle je ekonomick√° t≈ô√≠da, sedadlo 32K. Budete sedƒõt hodiny mezi dvƒõma cizinci. Hodnƒõ ≈°tƒõst√≠!',
        specs: ['Destination: Cape Town', 'Class: Economy (sorry)', 'Seat: 32K (the worst one)', 'Legroom: What\'s that?', 'Snacks: Not included', 'Regret level: TBD'],
        specs_cs: ['C√≠l: Kapsk√© Mƒõsto', 'T≈ô√≠da: Ekonomick√° (sorry)', 'Sedadlo: 32K (to nejhor≈°√≠)', 'M√≠sto na nohy: Co to je?', 'Svaƒçiny: Nejsou v cenƒõ', '√örove≈à l√≠tosti: Uvid√≠me']
    },
    {
        id: 9,
        title: 'Used TV - Owner Wants to Sell ASAP (Definitely Works)',
        title_cs: 'Pou≈æit√° TV - Majitel chce prodat ASAP (Fakt funguje)',
        image: '../images/products/tv.jpg',
        price: 2499,
        originalPrice: 4999,
        rating: 3.5,
        reviews: '12,345',
        prime: false,
        category: 'questionable',
        badge: 'Pre-Owned',
        badge_cs: 'Z druh√© ruky',
        description: 'The owner REALLY wants to sell this TV. It definitely works fine. Ignore the software update screen. Ignore the suspicious urgency. Just buy it. PLEASE.',
        description_cs: 'Majitel tuhle televizi FAKT chce prodat. Funguje √∫plnƒõ v pohodƒõ. Ignorujte tu obrazovku s aktualizac√≠. Ignorujte tu podez≈ôelou nal√©havost. Prostƒõ to kupte. PROS√çM.',
        specs: ['Condition: "Good"', 'Owner urgency: Very high', 'Reasons for selling: "Moving"', 'Software updates: Ongoing', 'Trust factor: Questionable'],
        specs_cs: ['Stav: "Dobr√Ω"', 'Nal√©havost majitele: Velmi vysok√°', 'D≈Øvod prodeje: "Stƒõhov√°n√≠"', 'Aktualizace softwaru: Prob√≠haj√≠', 'Faktor d≈Øvƒõry: Pochybn√Ω']
    },
    {
        id: 10,
        title: '2 Different Bowls - Literally Just 2 Bowls',
        title_cs: '2 r≈Øzn√© misky - Doslova jen 2 misky',
        image: '../images/products/2bowls.jpg',
        price: 199,
        originalPrice: 349,
        rating: 4.2,
        reviews: '5,432',
        prime: true,
        category: 'essential',
        badge: 'Practical',
        badge_cs: 'Praktick√©',
        description: 'Two bowls. They\'re different sizes and colors. One is red, one is black. That\'s it. That\'s the product. What more do you want? They hold food. Background human not included.',
        description_cs: 'Dvƒõ misky. Maj√≠ r≈Øzn√© velikosti a barvy. Jedna je ƒçerven√°, druh√° ƒçern√°. To je v≈°echno. To je ten produkt. Co v√≠c chcete? Dr≈æ√≠ j√≠dlo. ƒålovƒõk v pozad√≠ nen√≠ souƒç√°st√≠ balen√≠.',
        specs: ['Quantity: 2', 'Colors: Red & Black', 'Sizes: Different', 'Purpose: Holding stuff', 'Complexity: Very low', 'Background person: Not for sale'],
        specs_cs: ['Mno≈æstv√≠: 2', 'Barvy: ƒåerven√° a ƒçern√°', 'Velikosti: R≈Øzn√©', '√öƒçel: Dr≈æen√≠ vƒõc√≠', 'Slo≈æitost: Velmi n√≠zk√°', 'ƒålovƒõk v pozad√≠: Nen√≠ na prodej']
    },
    {
        id: 11,
        title: 'Christmas Tree + 2 Strange White Girls (Bundle Deal)',
        title_cs: 'V√°noƒçn√≠ stromek + 2 divn√Ω b√≠l√Ω holky (V√Ωhodn√Ω set)',
        image: '../images/products/xmastree.jpg',
        price: 899,
        originalPrice: 1499,
        rating: 4.7,
        reviews: '6,789',
        prime: false,
        category: 'impulse',
        badge: 'üéÑ Festive',
        badge_cs: 'üéÑ Sv√°teƒçn√≠',
        description: 'Beautiful LED Christmas tree for sale! Comes with 2 strange white girls wearing matching beanies who will stand next to it and drink from paper cups. Package deal only, cannot separate.',
        description_cs: 'Kr√°sn√Ω v√°noƒçn√≠ LED stromek na prodej! Souƒç√°st√≠ jsou 2 divn√© b√≠l√© holky ve stejn√Ωch kul√≠≈°c√≠ch, kter√© u nƒõj budou st√°t a p√≠t z pap√≠rov√Ωch kel√≠mk≈Ø. Pouze jako komplet, nelze rozdƒõlit.',
        specs: ['Tree: Fully lit with RGB', 'Girls included: 2', 'Beanie color: Red & Blue', 'Drinks: Mulled wine (probably)', 'Separation: Not possible', 'Christmas spirit: Maximum'],
        specs_cs: ['Stromek: Kompletnƒõ podsv√≠cen√Ω RGB', 'Holky v cenƒõ: 2', 'Barva kulich≈Ø: ƒåerven√° a modr√°', 'Pit√≠: Sva≈ô√°k (asi)', 'Rozdƒõlen√≠: Nemo≈æn√©', 'V√°noƒçn√≠ n√°lada: Maxim√°ln√≠']
    },
    {
        id: 12,
        title: 'Entire Albert Supermarket + Sleeping Homeless Guy',
        title_cs: 'Cel√Ω supermarket Albert + sp√≠c√≠ bezdomovec',
        image: '../images/products/albertstore.jpg',
        price: 12999999,
        originalPrice: 19999999,
        rating: 3.9,
        reviews: '23,456',
        prime: false,
        category: 'impulse',
        badge: 'Real Estate',
        badge_cs: 'Reality',
        description: 'Why buy groceries when you can buy the WHOLE STORE? Includes building, inventory, and one sleeping homeless gentleman outside (non-negotiable). Open 24/7, harsh lighting included. Liminal space vibes guaranteed.',
        description_cs: 'Proƒç kupovat potraviny, kdy≈æ si m≈Ø≈æete koupit CEL√ù KR√ÅM? Zahrnuje budovu, z√°soby a jednoho sp√≠c√≠ho bezdomovce venku (v cenƒõ, nelze odebrat). Otev≈ôeno 24/7, ostr√© z√°≈ôivky v cenƒõ. Atmosf√©ra limin√°ln√≠ch prostor zaruƒçena.',
        specs: ['Size: Entire building', 'Inventory: Fully stocked', 'Lighting: Fluorescent hell', 'Hours: 24/7', 'Homeless guy: Included (feature, not bug)', 'Vibes: Deeply unsettling'],
        specs_cs: ['Velikost: Cel√° budova', 'Z√°soby: Kompletnƒõ naskladnƒõno', 'Osvƒõtlen√≠: Z√°≈ôivkov√© peklo', 'Otev√≠raƒçka: 24/7', 'Bezdomovec: V cenƒõ (jako bonus)', 'Vibe: Hluboce znepokojuj√≠c√≠']
    },
{
        badge: 'Practical',
        badge_cs: 'Praktick√©',
        description: 'Just 2 bowls',
        description_cs: 'Prostƒõ 2 misky',
        specs: ['Quantity: 2'],
        specs_cs: ['Mno≈æstv√≠: 2']
    },
    {
        id: 11,
        title: 'Christmas Tree + 2 Strange White Girls',
        title_cs: 'V√°noƒçn√≠ stromek + 2 divn√© holky',
        image: '../images/products/xmastree.jpg',
        price: 899,
        originalPrice: 1499,
        rating: 4.7,
        reviews: '6,789',
        prime: false,
        category: 'impulse',
        badge: 'üéÑ Festive',
        badge_cs: 'üéÑ Sv√°teƒçn√≠',
        description: 'LED Christmas tree with girls',
        description_cs: 'LED v√°noƒçn√≠ stromek s holkami',
        specs: ['Tree: Fully lit'],
        specs_cs: ['Stromek: Kompletnƒõ podsv√≠cen√Ω']
    },
    {
        id: 12,
        title: 'Entire Albert Supermarket',
        title_cs: 'Cel√Ω supermarket Albert',
        image: '../images/products/albertstore.jpg',
        price: 12999999,
        originalPrice: 19999999,
        rating: 3.9,
        reviews: '23,456',
        prime: false,
        category: 'impulse',
        badge: 'Real Estate',
        badge_cs: 'Nemovitost',
        description: 'Buy the whole store!',
        description_cs: 'Kupte si cel√Ω kr√°m!',
        specs: ['Size: Entire building'],
        specs_cs: ['Velikost: Cel√° budova']
    }
];

        // Payment codes with balances
        const paymentCodes = {
            'RICH': 999999,
            'BROKE': 0,
            'YOLO': 5000,
            '1337': 13370,
            '42': 424242,
            'MONEY': 10000,
            'HELP': 100,
            'PLEASE': 50,
            '1997': 19970,
            '2025': 20250,
            'LUCKY': 7777,
            'WINNER': 50000
        };

        let cart = [];
        let userBalance = 0;
        let currentFilter = 'all';

        // Get currency symbol based on language
        function getCurrency() {
            return (I18N && I18N.currentLang === 'cs') ? 'Kƒç ' : 'R';
        }

        // Create product card HTML
        function createProduct(product) {
            const starsHtml = '‚≠ê'.repeat(Math.floor(product.rating));
            const delay = Math.random() * 0.4;
            
            const isCzech = I18N && I18N.currentLang === 'cs';
            const title = isCzech && product.title_cs ? product.title_cs : product.title;
            const badge = isCzech && product.badge_cs ? product.badge_cs : product.badge;
            
            return `
                <div class="product-card" style="animation-delay: ${delay}s" data-category="${product.category}" data-prime="${product.prime}" onclick="showProductDetail(${product.id})">
                    ${badge ? `<div class="product-badge">${badge}</div>` : ''}
                    <img src="${product.image}" alt="${title}" class="product-image">
                    <div class="product-title">${title}</div>
                    <div class="product-rating">
                        <span class="stars">${starsHtml}</span>
                        <span>${product.rating}</span>
                        <span class="rating-count">(${product.reviews})</span>
                    </div>
                    <div>
                        <span class="product-price">R${product.price}</span>
                        ${product.originalPrice ? `<span class="product-price-small">R${product.originalPrice}</span>` : ''}
                    </div>
                    ${product.prime ? `<div class="prime-badge">${I18N ? I18N.t('amazon_prime_delivery') : '‚ö° prime'}</div>` : ''}
                    <button class="add-to-cart" onclick="event.stopPropagation(); addToCart(${product.id})" data-i18n-key="amazon_add_to_cart">${I18N ? I18N.t('amazon_add_to_cart') : 'Add to Cart'}</button>
                </div>
            `;
        }

        // Show product detail modal
        function showProductDetail(productId) {
            const product = products.find(p => p.id === productId);
            const starsHtml = '‚≠ê'.repeat(Math.floor(product.rating));
            
            const isCzech = I18N && I18N.currentLang === 'cs';
            const title = isCzech && product.title_cs ? product.title_cs : product.title;
            const badge = isCzech && product.badge_cs ? product.badge_cs : product.badge;
            const description = isCzech && product.description_cs ? product.description_cs : product.description;
            const specs = isCzech && product.specs_cs ? product.specs_cs : product.specs;
            
            const detailHTML = `
                <div style="padding: 20px;">
                    <img src="${product.image}" alt="${title}" style="width: 100%; max-height: 400px; object-fit: contain; border-radius: 12px; margin-bottom: 20px;">
                    <h2 style="font-size: 1.8rem; margin-bottom: 12px; color: #0F1111;">${title}</h2>
                    ${badge ? `<div class="product-badge" style="position: relative; display: inline-block; margin-bottom: 16px;">${badge}</div>` : ''}
                    <div class="product-rating" style="margin-bottom: 16px;">
                        <span class="stars">${starsHtml}</span>
                        <span>${product.rating}</span>
                        <span class="rating-count">(${product.reviews} ${I18N ? I18N.t('amazon_reviews') : 'reviews'})</span>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <span class="product-price" style="font-size: 2.2rem;">R${product.price}</span>
                        ${product.originalPrice ? `<span class="product-price-small" style="font-size: 1.2rem;">R${product.originalPrice}</span>` : ''}
                    </div>
                    ${product.prime ? `<div class="prime-badge" style="margin-bottom: 20px;">${I18N ? I18N.t('amazon_prime_delivery') : '‚ö° prime - FREE One-Day Delivery'}</div>` : ''}
                    <div style="background: #f9f9f9; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        <h3 style="font-size: 1.2rem; margin-bottom: 12px; color: #0F1111;">${I18N ? I18N.t('amazon_product_description') : 'Product Description'}</h3>
                        <p style="color: #555; line-height: 1.6; margin-bottom: 12px;">${description || 'An absolutely essential item that you definitely need in your life right now. Trust us on this one.'}</p>
                    </div>
                    ${specs ? `
                        <div style="background: #f0f8ff; padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #007185;">
                            <h3 style="font-size: 1.2rem; margin-bottom: 12px; color: #0F1111;">${I18N ? I18N.t('amazon_specifications') : 'Technical Specifications'}</h3>
                            <ul style="list-style: none; padding: 0;">
                                ${specs.map(spec => `<li style="padding: 8px 0; border-bottom: 1px solid #ddd; color: #555;">‚úì ${spec}</li>`).join('')}
                            </ul>
                        </div>
                    ` : ''}
                    <button class="checkout-btn" onclick="event.stopPropagation(); addToCart(${product.id}); closeProductModal();" style="margin-top: 16px;">
                        ${I18N ? I18N.t('amazon_add_to_cart') : 'Add to Cart'} üõí
                    </button>
                </div>
            `;
            
            document.getElementById('product-detail-content').innerHTML = detailHTML;
            document.getElementById('product-modal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Close product detail modal
        function closeProductModal() {
            document.getElementById('product-modal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Show toast notification
        function showToast(message, duration = 3000) {
            const toast = document.getElementById('toast');
            document.getElementById('toast-text').textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), duration);
        }

        // Add to cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            cart.push(product);
            
            const cartElement = document.querySelector('.cart');
            cartElement.classList.add('bounce');
            setTimeout(() => cartElement.classList.remove('bounce'), 500);
            
            document.getElementById('cart-count').innerText = cart.length;
            localStorage.setItem('cart', JSON.stringify(cart));
            
            const isCzech = I18N && I18N.currentLang === 'cs';
            const title = isCzech && product.title_cs ? product.title_cs : product.title;
            
            const messages = isCzech ? [
                `‚ú® P≈ôid√°no "${title}" do ko≈°√≠ku!`,
                `üéâ Skvƒõl√° volba! Ko≈°√≠k vypad√° dob≈ôe!`,
                `üõçÔ∏è P≈ôid√°no! Pokraƒçuj v n√°kupu!`,
                `üí´ V ko≈°√≠ku! Jde≈° na to!`,
                `üéä Par√°dnƒõ! Tv≈Øj ko≈°√≠k se pln√≠!`
            ] : [
                `‚ú® Added "${title}" to cart!`,
                `üéâ Great choice! Cart is looking good!`,
                `üõçÔ∏è Added! Keep shopping!`,
                `üí´ In the cart! You're on a roll!`,
                `üéä Nice! Your cart is filling up!`
            ];
            showToast(messages[Math.floor(Math.random() * messages.length)]);
        }

        // Toggle cart modal
        function toggleCart() {
            const modal = document.getElementById('cart-modal');
            modal.classList.toggle('active');
            
            if (modal.classList.contains('active')) {
                updateCartDisplay();
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = 'auto';
            }
        }

        // Update cart display
        function updateCartDisplay() {
            const cartItemsDiv = document.getElementById('cart-items');
            
            if (cart.length === 0) {
                const emptyText = I18N ? I18N.t('amazon_cart_empty') : 'Your cart is empty!';
                const emptyDesc = I18N ? I18N.t('amazon_cart_empty_desc') : 'Start adding some amazing items';
                
                cartItemsDiv.innerHTML = `
                    <div class="empty-cart">
                        <div class="empty-cart-icon">üõí</div>
                        <h3>${emptyText}</h3>
                        <p style="margin-top: 12px; color: #666;">${emptyDesc}</p>
                    </div>
                `;
                document.getElementById('cart-total').innerText = '0';
                return;
            }
            
            let total = 0;
            let html = '';
            
            const isCzech = I18N && I18N.currentLang === 'cs';
            const removeText = I18N ? I18N.t('amazon_remove') : 'Remove';
            
            cart.forEach((product, index) => {
                total += product.price;
                const title = isCzech && product.title_cs ? product.title_cs : product.title;
                
                html += `
                    <div class="cart-item">
                        <img src="${product.image}" alt="${title}" class="cart-item-image">
                        <div class="cart-item-details">
                            <div class="cart-item-title">${title}</div>
                            <div class="cart-item-price">R${product.price}</div>
                            ${product.prime ? `<div class="prime-badge" style="margin-top: 8px;">${I18N ? I18N.t('amazon_prime_delivery') : '‚ö° prime'}</div>` : ''}
                        </div>
                        <div class="cart-item-actions">
                            <button class="cart-item-remove" onclick="removeFromCart(${index})">${removeText}</button>
                        </div>
                    </div>
                `;
            });
            
            cartItemsDiv.innerHTML = html;
            document.getElementById('cart-total').innerText = total.toFixed(0);
        }

        // Remove from cart
        function removeFromCart(index) {
            const product = cart[index];
            cart.splice(index, 1);
            document.getElementById('cart-count').innerText = cart.length;
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartDisplay();
            
            const isCzech = I18N && I18N.currentLang === 'cs';
            const title = isCzech && product.title_cs ? product.title_cs : product.title;
            const message = isCzech ? `Odebr√°no "${title}" z ko≈°√≠ku` : `Removed "${title}" from cart`;
            showToast(message);
        }

        // Proceed to checkout
        function proceedToCheckout() {
            if (cart.length === 0) {
                const message = (I18N && I18N.currentLang === 'cs') ? '‚ö†Ô∏è V√°≈° ko≈°√≠k je pr√°zdn√Ω!' : '‚ö†Ô∏è Your cart is empty!';
                showToast(message);
                return;
            }
            
            document.getElementById('cart-modal').classList.remove('active');
            document.getElementById('payment-modal').classList.add('active');
            document.getElementById('payment-code').focus();
        }

        // Process payment
        function processPayment() {
            const code = document.getElementById('payment-code').value.trim().toUpperCase();
            const errorDiv = document.getElementById('payment-error');
            const total = cart.reduce((sum, product) => sum + product.price, 0);
            const isCzech = I18N && I18N.currentLang === 'cs';
            
            errorDiv.classList.remove('show');
            
            if (!code) {
                errorDiv.textContent = isCzech ? '‚ö†Ô∏è Pros√≠m zadejte platebn√≠ k√≥d!' : '‚ö†Ô∏è Please enter a payment code!';
                errorDiv.classList.add('show');
                return;
            }
            
            if (!paymentCodes.hasOwnProperty(code)) {
                errorDiv.textContent = isCzech ? '‚ùå Neplatn√Ω k√≥d! Zkuste: RICH, YOLO, 42, MONEY, nebo 1997' : '‚ùå Invalid code! Try: RICH, YOLO, 42, MONEY, or 1997';
                errorDiv.classList.add('show');
                return;
            }
            
            const codeBalance = paymentCodes[code];
            
            if (codeBalance < total) {
                errorDiv.textContent = isCzech ? `üí∏ Nedostatek prost≈ôedk≈Ø! Tento k√≥d m√° pouze R${codeBalance}` : `üí∏ Insufficient funds! This code only has R${codeBalance}`;
                errorDiv.classList.add('show');
                return;
            }
            
            // Success!
            userBalance = codeBalance - total;
            document.getElementById('balance').innerText = userBalance.toLocaleString();
            
            // Generate random order number
            const orderNumber = Math.floor(100000 + Math.random() * 900000);
            document.getElementById('order-number').textContent = orderNumber;
            
            document.getElementById('payment-form').style.display = 'none';
            document.getElementById('payment-success').style.display = 'block';
            
            // Clear cart after delay
            setTimeout(() => {
                cart = [];
                document.getElementById('cart-count').innerText = '0';
                localStorage.setItem('cart', JSON.stringify(cart));
            }, 2000);
        }

        // Filter products
        function filterProducts(filter) {
            currentFilter = filter;
            
            // Update active button
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Show/hide products
            document.querySelectorAll('.product-card').forEach(card => {
                const category = card.getAttribute('data-category');
                const isPrime = card.getAttribute('data-prime') === 'true';
                
                if (filter === 'all') {
                    card.style.display = 'block';
                } else if (filter === 'prime') {
                    card.style.display = isPrime ? 'block' : 'none';
                } else {
                    card.style.display = category === filter ? 'block' : 'none';
                }
            });
        }

        // Scroll to products
        function scrollToProducts() {
            document.querySelector('.filters').scrollIntoView({ behavior: 'smooth' });
        }

        // Initialize on page load
        window.addEventListener('DOMContentLoaded', function() {
            console.log('Amazon.za: Page loaded, current language:', I18N ? I18N.currentLang : 'unknown');
            
            // Load cart from localStorage
            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                document.getElementById('cart-count').innerText = cart.length;
            }
            
            // Apply translations
            if (typeof applyTranslations === 'function') {
                applyTranslations();
            }
            
            // Populate products by category
            const essentialProducts = products.filter(p => p.category === 'essential');
            const questionableProducts = products.filter(p => p.category === 'questionable');
            const impulseProducts = products.filter(p => p.category === 'impulse');
            
            console.log('Products found:', {
                essential: essentialProducts.length,
                questionable: questionableProducts.length,
                impulse: impulseProducts.length,
                total: products.length
            });
            
            console.log('First product HTML:', essentialProducts.length > 0 ? createProduct(essentialProducts[0]) : 'No products');
            
            document.getElementById('products-essential').innerHTML = essentialProducts.map(createProduct).join('');
            document.getElementById('products-questionable').innerHTML = questionableProducts.map(createProduct).join('');
            document.getElementById('products-impulse').innerHTML = impulseProducts.map(createProduct).join('');
        });

        // Enter key to submit payment
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('payment-code').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    processPayment();
                }
            });
        });

        // Close modals on escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                document.getElementById('cart-modal').classList.remove('active');
                document.getElementById('payment-modal').classList.remove('active');
                document.getElementById('product-modal').classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });

        // Close modal when clicking outside
        document.getElementById('cart-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                toggleCart();
            }
        });

        document.getElementById('payment-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });

        document.getElementById('product-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeProductModal();
            }
        });
    </script>
</body>
</html>